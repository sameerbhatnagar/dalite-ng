var bundle=function(t,n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;var e,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,e){return function r(i,o){try{var a=n[i](o),u=a.value}catch(t){return void e(t)}if(!a.done)return Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)});t(u)}("next")})}},o=function(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)},a=(function(t){!function(n){var e,i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag",l=n.regeneratorRuntime;if(l)t.exports=l;else{(l=n.regeneratorRuntime=t.exports).wrap=_;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",g={},y={};y[u]=function(){return this};var v=Object.getPrototypeOf,m=v&&v(v(D([])));m&&m!==i&&o.call(m,u)&&(y=m);var w=N.prototype=x.prototype=Object.create(y);M.prototype=w.constructor=N,N.constructor=M,N[c]=M.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===M||"GeneratorFunction"===(n.displayName||n.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,N):(t.__proto__=N,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(w),t},l.awrap=function(t){return{__await:t}},A(k.prototype),k.prototype[s]=function(){return this},l.AsyncIterator=k,l.async=function(t,n,e,r){var i=new k(_(t,n,e,r));return l.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},A(w),w[c]="Generator",w[u]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},l.values=D,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return u.type="throw",u.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),S(e),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var i=r.arg;S(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:D(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}}}function _(t,n,e,r){var i=n&&n.prototype instanceof x?n:x,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,n,e){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return L()}for(e.method=i,e.arg=o;;){var a=e.delegate;if(a){var u=C(a,e);if(u){if(u===g)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===f)throw r=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=d;var s=b(t,n,e);if("normal"===s.type){if(r=e.done?p:h,s.arg===g)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(r=p,e.method="throw",e.arg=s.arg)}}}(t,e,a),o}function b(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}function x(){}function M(){}function N(){}function A(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function k(t){var n;this._invoke=function(e,i){function a(){return new Promise(function(n,a){!function n(e,i,a,u){var s=b(t[e],t,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===(void 0===l?"undefined":r(l))&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,a,u)},function(t){n("throw",t,a,u)}):Promise.resolve(l).then(function(t){c.value=t,a(c)},u)}u(s.arg)}(e,i,n,a)})}return n=n?n.then(a,a):a()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=b(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function S(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function D(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:L}}function L(){return{value:e,done:!0}}}(function(){return this}()||Function("return this")())}(e={exports:{}},e.exports),e.exports),u=function(){return this}()||Function("return this")(),s=u.regeneratorRuntime&&Object.getOwnPropertyNames(u).indexOf("regeneratorRuntime")>=0,c=s&&u.regeneratorRuntime;u.regeneratorRuntime=void 0;var l=a;if(s)u.regeneratorRuntime=c;else try{delete u.regeneratorRuntime}catch(t){u.regeneratorRuntime=void 0}var f,h,d,p,g=l,y=(f=i(g.mark(function t(n,e,r,i){var o,a,u,s;return g.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.createElement("span"),a=n.getAttribute("name"),o.setAttribute("name",a),o.setAttribute("class",r),!e){t.next=12;break}return u=n.firstChild.value,t.next=8,w(a,u,i);case 8:s=t.sent,o.textContent=s?n.firstChild.getAttribute("data-old-content"):u,t.next=13;break;case 12:o.textContent=n.firstChild.getAttribute("data-old-content");case 13:return t.abrupt("return",o);case 14:case"end":return t.stop()}},t,this)})),function(t,n,e,r){return f.apply(this,arguments)}),v=(h=i(g.mark(function t(n,e,r,i){var o,a,u,s,c,l;return g.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.createElement("span"),a=n.getAttribute("name"),o.setAttribute("name",a),u=n.firstChild.cloneNode(!0),s=n.firstChild.lastChild,u.removeChild(u.lastChild),!e){t.next=12;break}return c=s.firstChild.value,t.next=10,w(a,c,i);case 10:t.sent||((l=document.createElement("li")).textContent=c,l.setAttribute("class",r),u.append(l));case 12:return o.append(u),t.abrupt("return",o);case 14:case"end":return t.stop()}},t,this)})),function(t,n,e,r){return h.apply(this,arguments)}),m=(d=i(g.mark(function t(e,r,i,o){var a,u,s,c,l;return g.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.createElement("span"),u=e.getAttribute("name"),a.setAttribute("name",u),a.setAttribute("class",i),!r){t.next=13;break}return s=e.firstChild.value,c=n.formatDate(new Date(s),"Y-m-d H:i"),t.next=9,w(u,s,o);case 9:l=t.sent,a.textContent=l?e.firstChild.getAttribute("data-old-content"):c,t.next=14;break;case 13:a.textContent=e.firstChild.getAttribute("data-old-content");case 14:return t.abrupt("return",a);case 15:case"end":return t.stop()}},t,this)})),function(t,n,e,r){return d.apply(this,arguments)}),w=(p=i(g.mark(function t(n,e,r){var i,o,a,u,s;return g.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={name:n,value:e},o=document.getElementsByName("csrfmiddlewaretoken")[0].value,a={method:"POST",body:JSON.stringify(i),credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":o}},t.next=5,fetch(r,a);case 5:return u=t.sent,t.next=8,u.text();case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}},t,this)})),function(t,n,e){return p.apply(this,arguments)});function _(t,n,e,r){if(e){var i=document.createElement("i");i.classList.add("material-icons","md-24","mdc-ripple-surface","icon-list"),"text"==n|"datetime"==n?(i.textContent="edit",i.title="Edit"):(i.textContent="add",i.title="Add"),i.setAttribute("onclick",'bundle.editField(event, "'+n+'", "'+r+'")'),t.append(i)}else{var o=document.createElement("i");o.classList.add("material-icons","md-24","mdc-ripple-surface","icon-list"),o.textContent="check",o.title="Save",o.setAttribute("onclick",'bundle.saveField(event, "'+n+'", true, "'+r+'")');var a=document.createElement("i");a.classList.add("material-icons","md-24","mdc-ripple-surface","icon-list"),a.textContent="close",a.title="Cancel",a.setAttribute("onclick",'bundle.saveField(event, "'+n+'", false, "'+r+'")'),t.append(o),t.append(a)}return t}function b(){var t="csrftoken";return document.cookie&&""!==document.cookie?document.cookie.split(";").map(function(t){return t.trim()}).filter(function(n){return n.substring(0,t.length+1)===t+"="}).map(function(n){return decodeURIComponent(n.substring(t.length+1))})[0]:null}function x(t,n){if("get"===n.toLowerCase())return{method:n.toUpperCase(),headers:{"Content-Type":"application/json","X-CSRFToken":b()}};if("post"===n.toLowerCase()){var e=t?JSON.stringify(t):"";return{method:n.toUpperCase(),body:e,headers:{"Content-Type":"application/json","X-CSRFToken":b()}}}throw Error("Method "+n+" not implemented yet.")}function M(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}1===(N=M).length&&(A=N,N=function(t,n){return M(A(t),n)});var N,A,k={value:function(){}};function C(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new T(r)}function T(t){this._=t}function S(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function E(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=k,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}T.prototype=C.prototype={constructor:T,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=E(i[e],t.name,n);else if(null==n)for(e in i)i[e]=E(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=S(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new T(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var D="http://www.w3.org/1999/xhtml",L={svg:"http://www.w3.org/2000/svg",xhtml:D,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function U(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),L.hasOwnProperty(n)?{space:L[n],local:t}:t}function P(t){var n=U(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===D&&n.documentElement.namespaceURI===D?n.createElement(t):n.createElementNS(e,t)}})(n)}function q(){}function F(t){return null==t?q:function(){return this.querySelector(t)}}function j(){return[]}function R(t){return null==t?j:function(){return this.querySelectorAll(t)}}function O(t){return function(){return this.matches(t)}}function I(t){return new Array(t.length)}function $(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}$.prototype={constructor:$,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Y="$";function H(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new $(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function X(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=Y+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=Y+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new $(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function z(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function V(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function B(t,n){return t.style.getPropertyValue(n)||V(t).getComputedStyle(t,null).getPropertyValue(n)}function Z(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new Q(t)}function Q(t){this._node=t,this._names=Z(t.getAttribute("class")||"")}function J(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function G(t,n){for(var e=W(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function K(){this.textContent=""}function tt(){this.innerHTML=""}function nt(){this.nextSibling&&this.parentNode.appendChild(this)}function et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rt(){return null}function it(){var t=this.parentNode;t&&t.removeChild(this)}function ot(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function at(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Q.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ut={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ut={mouseenter:"mouseover",mouseleave:"mouseout"}));function st(t,n,e){return t=ct(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function ct(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function lt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function ft(t,n,e){var r=ut.hasOwnProperty(t.type)?st:ct;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function ht(t,n,e){var r=V(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var dt=[null];function pt(t,n){this._groups=t,this._parents=n}function gt(){return new pt([[document.documentElement]],dt)}function yt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function vt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function mt(){}pt.prototype=gt.prototype={constructor:pt,select:function(t){"function"!=typeof t&&(t=F(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new pt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=R(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new pt(r,i)},filter:function(t){"function"!=typeof t&&(t=O(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new pt(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e,r=n?X:H,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),g=p.length,y=s[l]=new Array(g),v=u[l]=new Array(g);r(f,h,y,v,c[l]=new Array(d),p,n);for(var m,w,_=0,b=0;_<g;++_)if(m=y[_]){for(_>=b&&(b=_+1);!(w=v[b])&&++b<g;);m._next=w||null}}return(u=new pt(u,i))._enter=s,u._exit=c,u},enter:function(){return new pt(this._enter||this._groups.map(I),this._parents)},exit:function(){return new pt(this._exit||this._groups.map(I),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new pt(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=z);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new pt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=U(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):B(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=Z(t+"");if(arguments.length<2){for(var r=W(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?J:G)(this,t)}}:n?function(t){return function(){J(this,t)}}:function(t){return function(){G(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?K:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(nt)},lower:function(){return this.each(et)},append:function(t){var n="function"==typeof t?t:P(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:P(t),r=null==n?rt:"function"==typeof n?n:F(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(it)},clone:function(t){return this.select(t?at:ot)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?ft:lt,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return ht(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return ht(this,t,n)}})(t,n))}};var wt="\\s*([+-]?\\d+)\\s*",_t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xt=/^#([0-9a-f]{3})$/,Mt=/^#([0-9a-f]{6})$/,Nt=new RegExp("^rgb\\("+[wt,wt,wt]+"\\)$"),At=new RegExp("^rgb\\("+[bt,bt,bt]+"\\)$"),kt=new RegExp("^rgba\\("+[wt,wt,wt,_t]+"\\)$"),Ct=new RegExp("^rgba\\("+[bt,bt,bt,_t]+"\\)$"),Tt=new RegExp("^hsl\\("+[_t,bt,bt]+"\\)$"),St=new RegExp("^hsla\\("+[_t,bt,bt,_t]+"\\)$"),Et={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dt(t){var n;return t=(t+"").trim().toLowerCase(),(n=xt.exec(t))?new Ft((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Mt.exec(t))?Lt(parseInt(n[1],16)):(n=Nt.exec(t))?new Ft(n[1],n[2],n[3],1):(n=At.exec(t))?new Ft(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=kt.exec(t))?Ut(n[1],n[2],n[3],n[4]):(n=Ct.exec(t))?Ut(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Tt.exec(t))?Rt(n[1],n[2]/100,n[3]/100,1):(n=St.exec(t))?Rt(n[1],n[2]/100,n[3]/100,n[4]):Et.hasOwnProperty(t)?Lt(Et[t]):"transparent"===t?new Ft(NaN,NaN,NaN,0):null}function Lt(t){return new Ft(t>>16&255,t>>8&255,255&t,1)}function Ut(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ft(t,n,e,r)}function Pt(t){return t instanceof mt||(t=Dt(t)),t?new Ft((t=t.rgb()).r,t.g,t.b,t.opacity):new Ft}function qt(t,n,e,r){return 1===arguments.length?Pt(t):new Ft(t,n,e,null==r?1:r)}function Ft(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function jt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Rt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ot(t,n,e,r)}function Ot(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function It(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}yt(mt,Dt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),yt(Ft,qt,vt(mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ft(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+jt(this.r)+jt(this.g)+jt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),yt(Ot,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ot)return new Ot(t.h,t.s,t.l,t.opacity);if(t instanceof mt||(t=Dt(t)),!t)return new Ot;if(t instanceof Ot)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Ot(a,u,s,t.opacity)}(t):new Ot(t,n,e,null==r?1:r)},vt(mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ot(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ft(It(t>=240?t-240:t+120,i,r),It(t,i,r),It(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var $t=Math.PI/180,Yt=180/Math.PI,Ht=.96422,Xt=1,zt=.82521,Vt=4/29,Bt=6/29,Zt=3*Bt*Bt,Wt=Bt*Bt*Bt;function Qt(t){if(t instanceof Jt)return new Jt(t.l,t.a,t.b,t.opacity);if(t instanceof en){if(isNaN(t.h))return new Jt(t.l,0,0,t.opacity);var n=t.h*$t;return new Jt(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Ft||(t=Pt(t));var e,r,i=nn(t.r),o=nn(t.g),a=nn(t.b),u=Gt((.2225045*i+.7168786*o+.0606169*a)/Xt);return i===o&&o===a?e=r=u:(e=Gt((.4360747*i+.3850649*o+.1430804*a)/Ht),r=Gt((.0139322*i+.0971045*o+.7141733*a)/zt)),new Jt(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Jt(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Gt(t){return t>Wt?Math.pow(t,1/3):t/Zt+Vt}function Kt(t){return t>Bt?t*t*t:Zt*(t-Vt)}function tn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function nn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function en(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}yt(Jt,function(t,n,e,r){return 1===arguments.length?Qt(t):new Jt(t,n,e,null==r?1:r)},vt(mt,{brighter:function(t){return new Jt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Jt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ft(tn(3.1338561*(n=Ht*Kt(n))-1.6168667*(t=Xt*Kt(t))-.4906146*(e=zt*Kt(e))),tn(-.9787684*n+1.9161415*t+.033454*e),tn(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),yt(en,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof en)return new en(t.h,t.c,t.l,t.opacity);if(t instanceof Jt||(t=Qt(t)),0===t.a&&0===t.b)return new en(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Yt;return new en(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new en(t,n,e,null==r?1:r)},vt(mt,{brighter:function(t){return new en(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new en(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Qt(this).rgb()}}));var rn=-.14861,on=1.78277,an=-.29227,un=-.90649,sn=1.97294,cn=sn*un,ln=sn*on,fn=on*an-un*rn;function hn(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof dn)return new dn(t.h,t.s,t.l,t.opacity);t instanceof Ft||(t=Pt(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(fn*r+cn*n-ln*e)/(fn+cn-ln),o=r-i,a=(sn*(e-i)-an*o)/un,u=Math.sqrt(a*a+o*o)/(sn*i*(1-i)),s=u?Math.atan2(a,o)*Yt-120:NaN;return new dn(s<0?s+360:s,u,i,t.opacity)}(t):new dn(t,n,e,null==r?1:r)}function dn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function pn(t){return function(){return t}}function gn(t,n){return function(e){return t+e*n}}function yn(t){return 1==(t=+t)?vn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):pn(isNaN(n)?e:n)}}function vn(t,n){var e=n-t;return e?gn(t,e):pn(isNaN(t)?n:t)}yt(dn,hn,vt(mt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new dn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new dn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*$t,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ft(255*(n+e*(rn*r+on*i)),255*(n+e*(an*r+un*i)),255*(n+e*(sn*r)),this.opacity)}}));var mn=function t(n){var e=yn(n);function r(t,n){var r=e((t=qt(t)).r,(n=qt(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=vn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function wn(t,n){return n-=t=+t,function(e){return t+n*e}}var _n=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(_n.source,"g");var xn,Mn,Nn,An,kn=180/Math.PI,Cn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tn(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*kn,skewX:Math.atan(s)*kn,scaleX:a,scaleY:u}}function Sn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:wn(t,i)},{i:s-2,x:wn(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:wn(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:wn(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:wn(t,e)},{i:u-2,x:wn(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var En=Sn(function(t){return"none"===t?Cn:(xn||(xn=document.createElement("DIV"),Mn=document.documentElement,Nn=document.defaultView),xn.style.transform=t,t=Nn.getComputedStyle(Mn.appendChild(xn),null).getPropertyValue("transform"),Mn.removeChild(xn),Tn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Dn=Sn(function(t){return null==t?Cn:(An||(An=document.createElementNS("http://www.w3.org/2000/svg","g")),An.setAttribute("transform",t),(t=An.transform.baseVal.consolidate())?Tn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Cn)},", ",")",")");Math.SQRT2;function Ln(t){return function n(e){function r(n,r){var i=t((n=hn(n)).h,(r=hn(r)).h),o=vn(n.s,r.s),a=vn(n.l,r.l),u=vn(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(Math.pow(t,e)),n.opacity=u(t),n+""}}return e=+e,r.gamma=n,r}(1)}Ln(function(t,n){var e=n-t;return e?gn(t,e>180||e<-180?e-360*Math.round(e/360):e):pn(isNaN(t)?n:t)});var Un,Pn,qn=Ln(vn),Fn=0,jn=0,Rn=0,On=1e3,In=0,$n=0,Yn=0,Hn="object"===("undefined"==typeof performance?"undefined":r(performance))&&performance.now?performance:Date,Xn="object"===("undefined"==typeof window?"undefined":r(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function zn(){return $n||(Xn(Vn),$n=Hn.now()+Yn)}function Vn(){$n=0}function Bn(){this._call=this._time=this._next=null}function Zn(t,n,e){var r=new Bn;return r.restart(t,n,e),r}function Wn(){$n=(In=Hn.now())+Yn,Fn=jn=0;try{!function(){zn(),++Fn;for(var t,n=Un;n;)(t=$n-n._time)>=0&&n._call.call(null,t),n=n._next;--Fn}()}finally{Fn=0,function(){var t,n,e=Un,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Un=n);Pn=t,Jn(r)}(),$n=0}}function Qn(){var t=Hn.now(),n=t-In;n>On&&(Yn-=n,In=t)}function Jn(t){Fn||(jn&&(jn=clearTimeout(jn)),t-$n>24?(t<1/0&&(jn=setTimeout(Wn,t-Hn.now()-Yn)),Rn&&(Rn=clearInterval(Rn))):(Rn||(In=Hn.now(),Rn=setInterval(Qn,On)),Fn=1,Xn(Wn)))}function Gn(t,n,e){var r=new Bn;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}Bn.prototype=Zn.prototype={constructor:Bn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?zn():+e)+(null==n?0:+n),this._next||Pn===this||(Pn?Pn._next=this:Un=this,Pn=this),this._call=t,this._time=e,Jn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jn())}};var Kn=C("start","end","cancel","interrupt"),te=[],ne=0,ee=1,re=2,ie=3,oe=4,ae=5,ue=6;function se(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(e.state!==ee)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===ie)return Gn(o);h.state===oe?(h.state=ue,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=ue,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Gn(function(){e.state===ie&&(e.state=oe,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=re,e.on.call("start",t,t.__data__,e.index,e.group),e.state===re){for(e.state=ie,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=ae,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);e.state===ae&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=ue,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Zn(function(t){e.state=ee,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:Kn,tween:te,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ne})}function ce(t,n){var e=fe(t,n);if(e.state>ne)throw new Error("too late; already scheduled");return e}function le(t,n){var e=fe(t,n);if(e.state>ie)throw new Error("too late; already running");return e}function fe(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function he(t,n,e){var r=t._id;return t.each(function(){var t=le(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return fe(t,r).value[n]}}function de(t,n){var e;return("number"==typeof n?wn:n instanceof Dt?mn:(e=Dt(n))?(n=e,mn):function(t,n){var e,r,i,o=_n.lastIndex=bn.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=_n.exec(t))&&(r=bn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:wn(e,r)})),o=bn.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})})(t,n)}var pe=gt.prototype.constructor;function ge(t){return function(){this.style.removeProperty(t)}}var ye=0;function ve(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function me(){return++ye}var we=gt.prototype;ve.prototype=function(t){return gt().transition(t)}.prototype={constructor:ve,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=F(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,se(f[h],n,e,h,f,fe(u,e)));return new ve(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=R(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=fe(s,e),g=0,y=d.length;g<y;++g)(h=d[g])&&se(h,n,e,g,d,p);o.push(d),a.push(s)}return new ve(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=O(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new ve(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new ve(a,this._parents,this._name,this._id)},selection:function(){return new pe(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=me(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=fe(a,n);se(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ve(r,this._parents,t,e)},call:we.call,nodes:we.nodes,node:we.node,size:we.size,empty:we.empty,each:we.each,on:function(t,n){var e=this._id;return arguments.length<2?fe(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?ce:le;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=U(t),r="transform"===e?Dn:de;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}})(e,r,he(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}:function(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=U(t);return this.tween(e,(r.local?function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n(e))}}(t,i)),e}return i._value=n,i}:function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n(e))}}(t,i)),e}return i._value=n,i})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?En:de;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=B(this,t),a=(this.style.removeProperty(t),B(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,ge(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=B(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=B(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,he(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=le(this,t),c=s.on,l=null==s.value[a]?o||(o=ge(n)):void 0;c===e&&i===l||(r=(e=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=B(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n(r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(he(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=fe(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=le(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=le(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){ce(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){ce(this,t).delay=n}})(n,t)):fe(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){le(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){le(this,t).duration=n}})(n,t)):fe(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){le(this,t).ease=n}}(n,t)):fe(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each(function(){var e=le(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})})}};Math.PI,Math.PI;var _e={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function be(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return _e.time=zn(),_e;return e}function xe(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}gt.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>re&&e.state<ae,e.state=ue,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},gt.prototype.transition=function(t){var n,e;t instanceof ve?(n=t._id,t=t._name):(n=me(),(e=_e).time=zn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&se(a,t,n,c,u,e||be(a,n));return new ve(r,this._parents,t,n)};var Me=function(t){var n;return 1===t.length&&(n=t,t=function(t,e){return xe(n(t),e)}),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}(xe).right;function Ne(t){return null===t?NaN:+t}function Ae(t,n,e){if(null==e&&(e=Ne),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}Math.PI;var ke=Math.PI,Ce=2*ke,Te=Ce-1e-6;function Se(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ee(){return new Se}Se.prototype=Ee.prototype={constructor:Se,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,c=o-t,l=a-n,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>1e-6)if(Math.abs(l*u-s*c)>1e-6&&i){var h=e-o,d=r-a,p=u*u+s*s,g=h*h+d*d,y=Math.sqrt(p),v=Math.sqrt(f),m=i*Math.tan((ke-Math.acos((p+f-g)/(2*y*v)))/2),w=m/v,_=m/y;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*c)+","+(n+w*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+_*u)+","+(this._y1=n+_*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,c=n+u,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+s+","+c),e&&(f<0&&(f=f%Ce+Ce),f>Te?this._+="A"+e+","+e+",0,1,"+l+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>1e-6&&(this._+="A"+e+","+e+",0,"+ +(f>=ke)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};function De(){}function Le(t,n){var e=new De;if(t instanceof De)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Ue(){}De.prototype=Le.prototype={constructor:De,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var Pe=Le.prototype;function qe(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Fe(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function je(){}Ue.prototype=function(t,n){var e=new Ue;if(t instanceof Ue)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Ue,has:Pe.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Pe.remove,clear:Pe.clear,values:Pe.keys,size:Pe.size,empty:Pe.empty,each:Pe.each};var Re="\\s*([+-]?\\d+)\\s*",Oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$e=/^#([0-9a-f]{3})$/,Ye=/^#([0-9a-f]{6})$/,He=new RegExp("^rgb\\("+[Re,Re,Re]+"\\)$"),Xe=new RegExp("^rgb\\("+[Ie,Ie,Ie]+"\\)$"),ze=new RegExp("^rgba\\("+[Re,Re,Re,Oe]+"\\)$"),Ve=new RegExp("^rgba\\("+[Ie,Ie,Ie,Oe]+"\\)$"),Be=new RegExp("^hsl\\("+[Oe,Ie,Ie]+"\\)$"),Ze=new RegExp("^hsla\\("+[Oe,Ie,Ie,Oe]+"\\)$"),We={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Qe(t){var n;return t=(t+"").trim().toLowerCase(),(n=$e.exec(t))?new tr((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Ye.exec(t))?Je(parseInt(n[1],16)):(n=He.exec(t))?new tr(n[1],n[2],n[3],1):(n=Xe.exec(t))?new tr(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=ze.exec(t))?Ge(n[1],n[2],n[3],n[4]):(n=Ve.exec(t))?Ge(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Be.exec(t))?nr(n[1],n[2]/100,n[3]/100,1):(n=Ze.exec(t))?nr(n[1],n[2]/100,n[3]/100,n[4]):We.hasOwnProperty(t)?Je(We[t]):"transparent"===t?new tr(NaN,NaN,NaN,0):null}function Je(t){return new tr(t>>16&255,t>>8&255,255&t,1)}function Ge(t,n,e,r){return r<=0&&(t=n=e=NaN),new tr(t,n,e,r)}function Ke(t){return t instanceof je||(t=Qe(t)),t?new tr((t=t.rgb()).r,t.g,t.b,t.opacity):new tr}function tr(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function nr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new er(t,n,e,r)}function er(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function rr(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}qe(je,Qe,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),qe(tr,function(t,n,e,r){return 1===arguments.length?Ke(t):new tr(t,n,e,null==r?1:r)},Fe(je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),qe(er,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof er)return new er(t.h,t.s,t.l,t.opacity);if(t instanceof je||(t=Qe(t)),!t)return new er;if(t instanceof er)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new er(a,u,s,t.opacity)}(t):new er(t,n,e,null==r?1:r)},Fe(je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new er(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new er(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new tr(rr(t>=240?t-240:t+120,i,r),rr(t,i,r),rr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var ir=Math.PI/180,or=180/Math.PI,ar=.95047,ur=1,sr=1.08883,cr=4/29,lr=6/29,fr=3*lr*lr,hr=lr*lr*lr;function dr(t){if(t instanceof pr)return new pr(t.l,t.a,t.b,t.opacity);if(t instanceof wr){var n=t.h*ir;return new pr(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof tr||(t=Ke(t));var e=mr(t.r),r=mr(t.g),i=mr(t.b),o=gr((.4124564*e+.3575761*r+.1804375*i)/ar),a=gr((.2126729*e+.7151522*r+.072175*i)/ur);return new pr(116*a-16,500*(o-a),200*(a-gr((.0193339*e+.119192*r+.9503041*i)/sr)),t.opacity)}function pr(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function gr(t){return t>hr?Math.pow(t,1/3):t/fr+cr}function yr(t){return t>lr?t*t*t:fr*(t-cr)}function vr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function mr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function wr(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}qe(pr,function(t,n,e,r){return 1===arguments.length?dr(t):new pr(t,n,e,null==r?1:r)},Fe(je,{brighter:function(t){return new pr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new pr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=ur*yr(t),new tr(vr(3.2404542*(n=ar*yr(n))-1.5371385*t-.4985314*(e=sr*yr(e))),vr(-.969266*n+1.8760108*t+.041556*e),vr(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),qe(wr,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof wr)return new wr(t.h,t.c,t.l,t.opacity);t instanceof pr||(t=dr(t));var n=Math.atan2(t.b,t.a)*or;return new wr(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new wr(t,n,e,null==r?1:r)},Fe(je,{brighter:function(t){return new wr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new wr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return dr(this).rgb()}}));var _r=-.29227,br=-.90649,xr=1.97294,Mr=xr*br,Nr=1.78277*xr,Ar=1.78277*_r- -.14861*br;function kr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}if(qe(kr,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof kr)return new kr(t.h,t.s,t.l,t.opacity);t instanceof tr||(t=Ke(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ar*r+Mr*n-Nr*e)/(Ar+Mr-Nr),o=r-i,a=(xr*(e-i)-_r*o)/br,u=Math.sqrt(a*a+o*o)/(xr*i*(1-i)),s=u?Math.atan2(a,o)*or-120:NaN;return new kr(s<0?s+360:s,u,i,t.opacity)}(t):new kr(t,n,e,null==r?1:r)},Fe(je,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new kr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new kr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ir,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new tr(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(_r*r+br*i)),255*(n+e*(xr*r)),this.opacity)}})),"undefined"!=typeof document)document.documentElement;var Cr={},Tr={},Sr=34,Er=10,Dr=13;function Lr(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Ur(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function l(){if(s)return Tr;if(c)return c=!1,Cr;var n,r,i=a;if(t.charCodeAt(i)===Sr){for(;a++<o&&t.charCodeAt(a)!==Sr||t.charCodeAt(++a)===Sr;);return(n=a)>=o?s=!0:(r=t.charCodeAt(a++))===Er?c=!0:r===Dr&&(c=!0,t.charCodeAt(a)===Er&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===Er)c=!0;else if(r===Dr)c=!0,t.charCodeAt(a)===Er&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===Er&&--o,t.charCodeAt(o-1)===Dr&&--o;(r=l())!==Tr;){for(var f=[];r!==Cr&&r!==Tr;)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=Lr(t);return function(r,i){return n(e(r),i,t)}}(t,n):Lr(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(o).join(t)].concat(n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}Ur(","),Ur("\t");function Pr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Math.PI,Math.PI;function qr(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,s,c,l,f,h,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(g+v)/2))?g=o:v=o,(l=e>=(a=(y+m)/2))?y=a:m=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=n>=(o=(g+v)/2))?g=o:v=o,(l=e>=(a=(y+m)/2))?y=a:m=a}while((f=l<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}function Fr(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function jr(t){return t[0]}function Rr(t){return t[1]}function Or(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ir(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var $r=function(t,n,e){var r=new Or(null==n?jr:n,null==e?Rr:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}.prototype=Or.prototype;$r.copy=function(){var t,n,e=new Or(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=Ir(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=Ir(n));return e},$r.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return qr(this.cover(n,e),n,e,t)},$r.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));for(l<s&&(s=this._x0,l=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(s,c).cover(l,f),e=0;e<o;++e)qr(this,a[e],u[e],t[e]);return this},$r.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var a,u,s=i-e,c=this._root;switch(u=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{(a=new Array(4))[u]=c,c=a}while(o=r+(s*=2),t>(i=e+s)||n>o);break;case 1:do{(a=new Array(4))[u]=c,c=a}while(o=r+(s*=2),(e=i-s)>t||n>o);break;case 2:do{(a=new Array(4))[u]=c,c=a}while(r=o-(s*=2),t>(i=e+s)||r>n);break;case 3:do{(a=new Array(4))[u]=c,c=a}while(r=o-(s*=2),(e=i-s)>t||r>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},$r.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},$r.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},$r.find=function(t,n,e){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Fr(g,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<l||(u=s.y1)<f))if(g.length){var y=(i+a)/2,v=(o+u)/2;p.push(new Fr(g[3],y,v,a,u),new Fr(g[2],i,v,y,u),new Fr(g[1],y,o,a,v),new Fr(g[0],i,o,y,v)),(c=(n>=v)<<1|t>=y)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,g.data),w=n-+this._y.call(null,g.data),_=m*m+w*w;if(_<e){var b=Math.sqrt(e=_);l=t-b,f=n-b,h=t+b,d=n+b,r=g.data}}return r},$r.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,s,c,l,f,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+y)/2))?p=u:y=u,(l=a>=(s=(g+v)/2))?g=s:v=s,n=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},$r.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},$r.root=function(){return this._root},$r.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},$r.visit=function(t){var n,e,r,i,o,a,u=[],s=this._root;for(s&&u.push(new Fr(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(e=s[3])&&u.push(new Fr(e,c,l,o,a)),(e=s[2])&&u.push(new Fr(e,r,l,c,a)),(e=s[1])&&u.push(new Fr(e,c,i,o,l)),(e=s[0])&&u.push(new Fr(e,r,i,c,l))}return this},$r.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new Fr(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,s=n.x1,c=n.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&e.push(new Fr(o,a,u,l,f)),(o=i[1])&&e.push(new Fr(o,l,u,s,f)),(o=i[2])&&e.push(new Fr(o,a,f,l,c)),(o=i[3])&&e.push(new Fr(o,l,f,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},$r.x=function(t){return arguments.length?(this._x=t,this):this._x},$r.y=function(t){return arguments.length?(this._y=t,this):this._y};function Yr(){}function Hr(t,n){var e=new Yr;if(t instanceof Yr)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function Xr(){}Yr.prototype=Hr.prototype={constructor:Yr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var zr=Hr.prototype;Xr.prototype=function(t,n){var e=new Xr;if(t instanceof Xr)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}.prototype={constructor:Xr,has:zr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:zr.remove,clear:zr.clear,values:zr.keys,size:zr.size,empty:zr.empty,each:zr.each};var Vr;Math.PI,Math.sqrt(5);function Br(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Zr(t,n){var e=Br(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Wr={"":function(t,n){t=t.toPrecision(n);t:for(var e,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Zr(100*t,n)},r:Zr,s:function(t,n){var e=Br(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Vr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Br(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Qr=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Jr(t){return new Gr(t)}function Gr(t){if(!(n=Qr.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",a=!!n[5],u=n[6]&&+n[6],s=!!n[7],c=n[8]&&+n[8].slice(1),l=n[9]||"";"n"===l?(s=!0,l="g"):Wr[l]||(l=""),(a||"0"===e&&"="===r)&&(a=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=u,this.comma=s,this.precision=c,this.type=l}function Kr(t){return t}Jr.prototype=Gr.prototype,Gr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var ti,ni=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ei(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}):Kr,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Kr,u=t.percent||"%";function s(t){var n=(t=Jr(t)).fill,e=t.align,s=t.sign,c=t.symbol,l=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.type,g="$"===c?i[0]:"#"===c&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",y="$"===c?i[1]:/[%p]/.test(p)?u:"",v=Wr[p],m=!p||/[defgprs%]/.test(p);function w(t){var i,u,c,w=g,_=y;if("c"===p)_=v(t)+_,t="";else{var b=(t=+t)<0;if(t=v(Math.abs(t),d),b&&0==+t&&(b=!1),w=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+w,_=("s"===p?ni[8+Vr/3]:"")+_+(b&&"("===s?")":""),m)for(i=-1,u=t.length;++i<u;)if(48>(c=t.charCodeAt(i))||c>57){_=(46===c?o+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}h&&!l&&(t=r(t,1/0));var x=w.length+t.length+_.length,M=x<f?new Array(f-x+1).join(n):"";switch(h&&l&&(t=r(M+t,M.length?f-_.length:1/0),M=""),e){case"<":t=w+t+_+M;break;case"=":t=w+M+t+_;break;case"^":t=M.slice(0,x=M.length>>1)+w+t+_+M.slice(x);break;default:t=M+w+t+_}return a(t)}return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),w.toString=function(){return t+""},w}return{format:s,formatPrefix:function(t,n){var e,r=s(((t=Jr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((e=n,((e=Br(Math.abs(e)))?e[1]:NaN)/3)))),o=Math.pow(10,-i),a=ni[8+i/3];return function(t){return r(o*t)+a}}}}function ri(){return new ii}function ii(){this.reset()}ti=ei({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),ti.format,ti.formatPrefix,ii.prototype={constructor:ii,reset:function(){this.s=this.t=0},add:function(t){ai(oi,t,this.t),ai(this,oi.s,this.s),this.s?this.t+=oi.t:this.s=oi.t},valueOf:function(){return this.s}};var oi=new ii;function ai(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}Math.PI,ri(),ri(),ri(),ri(),ri(),ri(),ri(),ri();function ui(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function si(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ci(){}var li="\\s*([+-]?\\d+)\\s*",fi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",hi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",di=/^#([0-9a-f]{3})$/,pi=/^#([0-9a-f]{6})$/,gi=new RegExp("^rgb\\("+[li,li,li]+"\\)$"),yi=new RegExp("^rgb\\("+[hi,hi,hi]+"\\)$"),vi=new RegExp("^rgba\\("+[li,li,li,fi]+"\\)$"),mi=new RegExp("^rgba\\("+[hi,hi,hi,fi]+"\\)$"),wi=new RegExp("^hsl\\("+[fi,hi,hi]+"\\)$"),_i=new RegExp("^hsla\\("+[fi,hi,hi,fi]+"\\)$"),bi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xi(t){var n;return t=(t+"").trim().toLowerCase(),(n=di.exec(t))?new Ci((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=pi.exec(t))?Mi(parseInt(n[1],16)):(n=gi.exec(t))?new Ci(n[1],n[2],n[3],1):(n=yi.exec(t))?new Ci(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=vi.exec(t))?Ni(n[1],n[2],n[3],n[4]):(n=mi.exec(t))?Ni(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=wi.exec(t))?Si(n[1],n[2]/100,n[3]/100,1):(n=_i.exec(t))?Si(n[1],n[2]/100,n[3]/100,n[4]):bi.hasOwnProperty(t)?Mi(bi[t]):"transparent"===t?new Ci(NaN,NaN,NaN,0):null}function Mi(t){return new Ci(t>>16&255,t>>8&255,255&t,1)}function Ni(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ci(t,n,e,r)}function Ai(t){return t instanceof ci||(t=xi(t)),t?new Ci((t=t.rgb()).r,t.g,t.b,t.opacity):new Ci}function ki(t,n,e,r){return 1===arguments.length?Ai(t):new Ci(t,n,e,null==r?1:r)}function Ci(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ti(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Si(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ei(t,n,e,r)}function Ei(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Di(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}ui(ci,xi,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),ui(Ci,ki,si(ci,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Ti(this.r)+Ti(this.g)+Ti(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ui(Ei,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Ei)return new Ei(t.h,t.s,t.l,t.opacity);if(t instanceof ci||(t=xi(t)),!t)return new Ei;if(t instanceof Ei)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Ei(a,u,s,t.opacity)}(t):new Ei(t,n,e,null==r?1:r)},si(ci,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ei(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ei(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ci(Di(t>=240?t-240:t+120,i,r),Di(t,i,r),Di(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Li=Math.PI/180,Ui=180/Math.PI,Pi=.96422,qi=1,Fi=.82521,ji=4/29,Ri=6/29,Oi=3*Ri*Ri,Ii=Ri*Ri*Ri;function $i(t){if(t instanceof Yi)return new Yi(t.l,t.a,t.b,t.opacity);if(t instanceof Bi){if(isNaN(t.h))return new Yi(t.l,0,0,t.opacity);var n=t.h*Li;return new Yi(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Ci||(t=Ai(t));var e,r,i=Vi(t.r),o=Vi(t.g),a=Vi(t.b),u=Hi((.2225045*i+.7168786*o+.0606169*a)/qi);return i===o&&o===a?e=r=u:(e=Hi((.4360747*i+.3850649*o+.1430804*a)/Pi),r=Hi((.0139322*i+.0971045*o+.7141733*a)/Fi)),new Yi(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Yi(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Hi(t){return t>Ii?Math.pow(t,1/3):t/Oi+ji}function Xi(t){return t>Ri?t*t*t:Oi*(t-ji)}function zi(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Vi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Bi(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}ui(Yi,function(t,n,e,r){return 1===arguments.length?$i(t):new Yi(t,n,e,null==r?1:r)},si(ci,{brighter:function(t){return new Yi(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Yi(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ci(zi(3.1338561*(n=Pi*Xi(n))-1.6168667*(t=qi*Xi(t))-.4906146*(e=Fi*Xi(e))),zi(-.9787684*n+1.9161415*t+.033454*e),zi(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),ui(Bi,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Bi)return new Bi(t.h,t.c,t.l,t.opacity);if(t instanceof Yi||(t=$i(t)),0===t.a&&0===t.b)return new Bi(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Ui;return new Bi(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Bi(t,n,e,null==r?1:r)},si(ci,{brighter:function(t){return new Bi(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Bi(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return $i(this).rgb()}}));var Zi=-.29227,Wi=-.90649,Qi=1.97294,Ji=Qi*Wi,Gi=1.78277*Qi,Ki=1.78277*Zi- -.14861*Wi;function to(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function no(t){return function(){return t}}function eo(t){return 1==(t=+t)?ro:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):no(isNaN(n)?e:n)}}function ro(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):no(isNaN(t)?n:t)}ui(to,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof to)return new to(t.h,t.s,t.l,t.opacity);t instanceof Ci||(t=Ai(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Ki*r+Ji*n-Gi*e)/(Ki+Ji-Gi),o=r-i,a=(Qi*(e-i)-Zi*o)/Wi,u=Math.sqrt(a*a+o*o)/(Qi*i*(1-i)),s=u?Math.atan2(a,o)*Ui-120:NaN;return new to(s<0?s+360:s,u,i,t.opacity)}(t):new to(t,n,e,null==r?1:r)},si(ci,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new to(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new to(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Li,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ci(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(Zi*r+Wi*i)),255*(n+e*(Qi*r)),this.opacity)}}));var io=function t(n){var e=eo(n);function r(t,n){var r=e((t=ki(t)).r,(n=ki(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ro(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function oo(t,n){return n-=t=+t,function(e){return t+n*e}}var ao=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uo=new RegExp(ao.source,"g");function so(t,n){var e,r=typeof n;return null==n||"boolean"===r?no(n):("number"===r?oo:"string"===r?(e=xi(n))?(n=e,io):function(t,n){var e,r,i,o=ao.lastIndex=uo.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=ao.exec(t))&&(r=uo.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:oo(e,r)})),o=uo.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}:n instanceof xi?io:n instanceof Date?function(t,n){var e=new Date;return n-=t=+t,function(r){return e.setTime(t+n*r),e}}:Array.isArray(n)?function(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=so(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=so(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:oo)(t,n)}Math.PI,Math.SQRT2,Math.PI;function co(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,a,u,s,c,l,f,h,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=n>=(o=(g+v)/2))?g=o:v=o,(l=e>=(a=(y+m)/2))?y=a:m=a,i=d,!(d=d[f=l<<1|c]))return i[f]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),n===u&&e===s)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=n>=(o=(g+v)/2))?g=o:v=o,(l=e>=(a=(y+m)/2))?y=a:m=a}while((f=l<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=d,i[f]=p,t}function lo(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i}function fo(t){return t[0]}function ho(t){return t[1]}function po(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function go(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var yo=function(t,n,e){var r=new po(null==n?fo:n,null==e?ho:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}.prototype=po.prototype;yo.copy=function(){var t,n,e=new po(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=go(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=go(n));return e},yo.add=function(t){var n=+this._x.call(null,t),e=+this._y.call(null,t);return co(this.cover(n,e),n,e,t)},yo.addAll=function(t){var n,e,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-1/0,f=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(a[e]=r,u[e]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));for(l<s&&(s=this._x0,l=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(s,c).cover(l,f),e=0;e<o;++e)co(this,a[e],u[e],t[e]);return this},yo.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{if(!(e>t||t>i||r>n||n>o))return this;var a,u,s=i-e,c=this._root;switch(u=(n<(r+o)/2)<<1|t<(e+i)/2){case 0:do{(a=new Array(4))[u]=c,c=a}while(o=r+(s*=2),t>(i=e+s)||n>o);break;case 1:do{(a=new Array(4))[u]=c,c=a}while(o=r+(s*=2),(e=i-s)>t||n>o);break;case 2:do{(a=new Array(4))[u]=c,c=a}while(r=o-(s*=2),t>(i=e+s)||r>n);break;case 3:do{(a=new Array(4))[u]=c,c=a}while(r=o-(s*=2),(e=i-s)>t||r>n)}this._root&&this._root.length&&(this._root=c)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},yo.data=function(){var t=[];return this.visit(function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)}),t},yo.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},yo.find=function(t,n,e){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new lo(g,l,f,h,d)),null==e?e=1/0:(l=t-e,f=n-e,h=t+e,d=n+e,e*=e);s=p.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>d||(a=s.x1)<l||(u=s.y1)<f))if(g.length){var y=(i+a)/2,v=(o+u)/2;p.push(new lo(g[3],y,v,a,u),new lo(g[2],i,v,y,u),new lo(g[1],y,o,a,v),new lo(g[0],i,o,y,v)),(c=(n>=v)<<1|t>=y)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var m=t-+this._x.call(null,g.data),w=n-+this._y.call(null,g.data),_=m*m+w*w;if(_<e){var b=Math.sqrt(e=_);l=t-b,f=n-b,h=t+b,d=n+b,r=g.data}}return r},yo.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var n,e,r,i,o,a,u,s,c,l,f,h,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(u=(p+y)/2))?p=u:y=u,(l=a>=(s=(g+v)/2))?g=s:v=s,n=d,!(d=d[f=l<<1|c]))return this;if(!d.length)break;(n[f+1&3]||n[f+2&3]||n[f+3&3])&&(e=n,h=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[f]=i:delete n[f],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},yo.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},yo.root=function(){return this._root},yo.size=function(){var t=0;return this.visit(function(n){if(!n.length)do{++t}while(n=n.next)}),t},yo.visit=function(t){var n,e,r,i,o,a,u=[],s=this._root;for(s&&u.push(new lo(s,this._x0,this._y0,this._x1,this._y1));n=u.pop();)if(!t(s=n.node,r=n.x0,i=n.y0,o=n.x1,a=n.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(e=s[3])&&u.push(new lo(e,c,l,o,a)),(e=s[2])&&u.push(new lo(e,r,l,c,a)),(e=s[1])&&u.push(new lo(e,c,i,o,l)),(e=s[0])&&u.push(new lo(e,r,i,c,l))}return this},yo.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new lo(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,a=n.x0,u=n.y0,s=n.x1,c=n.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&e.push(new lo(o,a,u,l,f)),(o=i[1])&&e.push(new lo(o,l,u,s,f)),(o=i[2])&&e.push(new lo(o,a,f,l,c)),(o=i[3])&&e.push(new lo(o,l,f,s,c))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},yo.x=function(t){return arguments.length?(this._x=t,this):this._x},yo.y=function(t){return arguments.length?(this._y=t,this):this._y};var vo={},mo={},wo=34,_o=10,bo=13;function xo(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function Mo(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function l(){if(s)return mo;if(c)return c=!1,vo;var n,r,i=a;if(t.charCodeAt(i)===wo){for(;a++<o&&t.charCodeAt(a)!==wo||t.charCodeAt(++a)===wo;);return(n=a)>=o?s=!0:(r=t.charCodeAt(a++))===_o?c=!0:r===bo&&(c=!0,t.charCodeAt(a)===_o&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(n=a++))===_o)c=!0;else if(r===bo)c=!0,t.charCodeAt(a)===_o&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===_o&&--o,t.charCodeAt(o-1)===bo&&--o;(r=l())!==mo;){for(var f=[];r!==vo&&r!==mo;)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n){return n.map(o).join(t)}function o(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=xo(t);return function(r,i){return n(e(r),i,t)}}(t,n):xo(t)});return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(o).join(t)].concat(n.map(function(n){return e.map(function(t){return o(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}Mo(","),Mo("\t");var No=Array.prototype.slice;function Ao(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var ko,Co=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function To(t){return new So(t)}function So(t){if(!(n=Co.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function Eo(t,n){var e=Ao(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}To.prototype=So.prototype,So.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Do={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Eo(100*t,n)},r:Eo,s:function(t,n){var e=Ao(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(ko=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ao(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Lo(t){return t}var Uo,Po=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qo(t){var n,e,r=t.grouping&&t.thousands?(n=t.grouping,e=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}):Lo,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):Lo,u=t.percent||"%";function s(t){var n=(t=To(t)).fill,e=t.align,s=t.sign,c=t.symbol,l=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,g=t.type;"n"===g?(h=!0,g="g"):Do[g]||(null==d&&(d=12),p=!0,g="g"),(l||"0"===n&&"="===e)&&(l=!0,n="0",e="=");var y="$"===c?i[0]:"#"===c&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===c?i[1]:/[%p]/.test(g)?u:"",m=Do[g],w=/[defgprs%]/.test(g);function _(t){var i,u,c,_=y,b=v;if("c"===g)b=m(t)+b,t="";else{var x=(t=+t)<0;if(t=m(Math.abs(t),d),p&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),x&&0==+t&&(x=!1),_=(x?"("===s?s:"-":"-"===s||"("===s?"":s)+_,b=("s"===g?Po[8+ko/3]:"")+b+(x&&"("===s?")":""),w)for(i=-1,u=t.length;++i<u;)if(48>(c=t.charCodeAt(i))||c>57){b=(46===c?o+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}h&&!l&&(t=r(t,1/0));var M=_.length+t.length+b.length,N=M<f?new Array(f-M+1).join(n):"";switch(h&&l&&(t=r(N+t,N.length?f-b.length:1/0),N=""),e){case"<":t=_+t+b+N;break;case"=":t=_+N+t+b;break;case"^":t=N.slice(0,M=N.length>>1)+_+t+b+N.slice(M);break;default:t=N+_+t+b}return a(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}return{format:s,formatPrefix:function(t,n){var e,r=s(((t=To(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((e=n,((e=Ao(Math.abs(e)))?e[1]:NaN)/3)))),o=Math.pow(10,-i),a=Po[8+i/3];return function(t){return r(o*t)+a}}}}function Fo(){var t=[],n=[],e=[];function r(){var r=0,o=Math.max(1,n.length);for(e=new Array(o-1);++r<o;)e[r-1]=Ae(t,r/o);return i}function i(t){if(!isNaN(t=+t))return n[Me(e,t)]}return i.invertExtent=function(r){var i=n.indexOf(r);return i<0?[NaN,NaN]:[i>0?e[i-1]:t[0],i<e.length?e[i]:t[t.length-1]]},i.domain=function(n){if(!arguments.length)return t.slice();t=[];for(var e,i=0,o=n.length;i<o;++i)null==(e=n[i])||isNaN(e=+e)||t.push(e);return t.sort(xe),r()},i.range=function(t){return arguments.length?(n=No.call(t),r()):n.slice()},i.quantiles=function(){return e.slice()},i.copy=function(){return Fo().domain(t).range(n)},i}!function(t){Uo=qo(t),Uo.format,Uo.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var jo=new Date,Ro=new Date;function Oo(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var a,u=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return u;do{u.push(a=new Date(+e)),n(e,o),t(e)}while(a<e&&e<r);return u},i.filter=function(e){return Oo(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return jo.setTime(+n),Ro.setTime(+r),t(jo),t(Ro),Math.floor(e(jo,Ro))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var Io=Oo(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Io.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Oo(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Io:null};var $o=6e4,Yo=6048e5,Ho=(Oo(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),Oo(function(t){t.setTime(Math.floor(t/$o)*$o)},function(t,n){t.setTime(+t+n*$o)},function(t,n){return(n-t)/$o},function(t){return t.getMinutes()}),Oo(function(t){var n=t.getTimezoneOffset()*$o%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Oo(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$o)/864e5},function(t){return t.getDate()-1}));function Xo(t){return Oo(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*$o)/Yo})}var zo=Xo(0),Vo=Xo(1),Bo=(Xo(2),Xo(3),Xo(4)),Zo=(Xo(5),Xo(6),Oo(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Oo(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Zo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Oo(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};Oo(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*$o)},function(t,n){return(n-t)/$o},function(t){return t.getUTCMinutes()}),Oo(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()});var Wo=Oo(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1});function Qo(t){return Oo(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Yo})}var Jo=Qo(0),Go=Qo(1),Ko=(Qo(2),Qo(3),Qo(4)),ta=(Qo(5),Qo(6),Oo(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Oo(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function na(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ea(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ra(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}ta.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Oo(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var ia,oa,aa,ua={"-":"",_:" ",0:"0"},sa=/^\s*\d+/,ca=/^%/,la=/[\\^$*+?|[\]().{}]/g;function fa(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function ha(t){return t.replace(la,"\\$&")}function da(t){return new RegExp("^(?:"+t.map(ha).join("|")+")","i")}function pa(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function ga(t,n,e){var r=sa.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ya(t,n,e){var r=sa.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function va(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function ma(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function wa(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function _a(t,n,e){var r=sa.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function ba(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function xa(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ma(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Na(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Aa(t,n,e){var r=sa.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ka(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Ca(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Ta(t,n,e){var r=sa.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Sa(t,n,e){var r=sa.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Ea(t,n,e){var r=sa.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Da(t,n,e){var r=ca.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function La(t,n,e){var r=sa.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Ua(t,n,e){var r=sa.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Pa(t,n){return fa(t.getDate(),n,2)}function qa(t,n){return fa(t.getHours(),n,2)}function Fa(t,n){return fa(t.getHours()%12||12,n,2)}function ja(t,n){return fa(1+Ho.count(Zo(t),t),n,3)}function Ra(t,n){return fa(t.getMilliseconds(),n,3)}function Oa(t,n){return Ra(t,n)+"000"}function Ia(t,n){return fa(t.getMonth()+1,n,2)}function $a(t,n){return fa(t.getMinutes(),n,2)}function Ya(t,n){return fa(t.getSeconds(),n,2)}function Ha(t){var n=t.getDay();return 0===n?7:n}function Xa(t,n){return fa(zo.count(Zo(t),t),n,2)}function za(t,n){var e=t.getDay();return t=e>=4||0===e?Bo(t):Bo.ceil(t),fa(Bo.count(Zo(t),t)+(4===Zo(t).getDay()),n,2)}function Va(t){return t.getDay()}function Ba(t,n){return fa(Vo.count(Zo(t),t),n,2)}function Za(t,n){return fa(t.getFullYear()%100,n,2)}function Wa(t,n){return fa(t.getFullYear()%1e4,n,4)}function Qa(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+fa(n/60|0,"0",2)+fa(n%60,"0",2)}function Ja(t,n){return fa(t.getUTCDate(),n,2)}function Ga(t,n){return fa(t.getUTCHours(),n,2)}function Ka(t,n){return fa(t.getUTCHours()%12||12,n,2)}function tu(t,n){return fa(1+Wo.count(ta(t),t),n,3)}function nu(t,n){return fa(t.getUTCMilliseconds(),n,3)}function eu(t,n){return nu(t,n)+"000"}function ru(t,n){return fa(t.getUTCMonth()+1,n,2)}function iu(t,n){return fa(t.getUTCMinutes(),n,2)}function ou(t,n){return fa(t.getUTCSeconds(),n,2)}function au(t){var n=t.getUTCDay();return 0===n?7:n}function uu(t,n){return fa(Jo.count(ta(t),t),n,2)}function su(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Ko(t):Ko.ceil(t),fa(Ko.count(ta(t),t)+(4===ta(t).getUTCDay()),n,2)}function cu(t){return t.getUTCDay()}function lu(t,n){return fa(Go.count(ta(t),t),n,2)}function fu(t,n){return fa(t.getUTCFullYear()%100,n,2)}function hu(t,n){return fa(t.getUTCFullYear()%1e4,n,4)}function du(){return"+0000"}function pu(){return"%"}function gu(t){return+t}function yu(t){return Math.floor(+t/1e3)}!function(t){ia=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=da(i),l=pa(i),f=da(o),h=pa(o),d=da(a),p=pa(a),g=da(u),y=pa(u),v=da(s),m=pa(s),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Pa,e:Pa,f:Oa,H:qa,I:Fa,j:ja,L:Ra,m:Ia,M:$a,p:function(t){return i[+(t.getHours()>=12)]},Q:gu,s:yu,S:Ya,u:Ha,U:Xa,V:za,w:Va,W:Ba,x:null,X:null,y:Za,Y:Wa,Z:Qa,"%":pu},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Ja,e:Ja,f:eu,H:Ga,I:Ka,j:tu,L:nu,m:ru,M:iu,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:gu,s:yu,S:ou,u:au,U:uu,V:su,w:cu,W:lu,x:null,X:null,y:fu,Y:hu,Z:du,"%":pu},b={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return N(t,n,e,r)},d:Na,e:Na,f:Ea,H:ka,I:ka,j:Aa,L:Sa,m:Ma,M:Ca,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:La,s:Ua,S:Ta,u:ya,U:va,V:ma,w:ga,W:wa,x:function(t,n,r){return N(t,e,n,r)},X:function(t,n,e){return N(t,r,n,e)},y:ba,Y:_a,Z:xa,"%":Da};function x(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ua[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=ra(1900);if(N(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=ea(ra(o.y))).getUTCDay())>4||0===i?Go.ceil(r):Go(r),r=Wo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=n(ra(o.y))).getDay())>4||0===i?Vo.ceil(r):Vo(r),r=Ho.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ea(ra(o.y)).getUTCDay():n(ra(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ea(o)):n(o)}}function N(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=b[i in ua?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return w.x=x(e,w),w.X=x(r,w),w.c=x(n,w),_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),{format:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",na);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,ea);return n.toString=function(){return t},n}}}(t),ia.format,ia.parse,oa=ia.utcFormat,aa=ia.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||oa("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||aa("%Y-%m-%dT%H:%M:%S.%LZ");function vu(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}vu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),vu("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),vu("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),vu("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),qn(hn(300,.5,0),hn(-240,.5,1));qn(hn(-100,.75,.35),hn(80,1.5,.8)),qn(hn(260,.75,.35),hn(80,1.5,.8)),hn();function mu(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}mu(vu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));mu(vu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mu(vu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),mu(vu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var wu="http://www.w3.org/1999/xhtml",_u={svg:"http://www.w3.org/2000/svg",xhtml:wu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bu(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),_u.hasOwnProperty(n)?{space:_u[n],local:t}:t}function xu(t){var n=bu(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===wu&&n.documentElement.namespaceURI===wu?n.createElement(t):n.createElementNS(e,t)}})(n)}function Mu(){}function Nu(t){return null==t?Mu:function(){return this.querySelector(t)}}function Au(){return[]}var ku=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Cu=document.documentElement;if(!Cu.matches){var Tu=Cu.webkitMatchesSelector||Cu.msMatchesSelector||Cu.mozMatchesSelector||Cu.oMatchesSelector;ku=function(t){return function(){return Tu.call(this,t)}}}}var Su=ku;function Eu(t){return new Array(t.length)}function Du(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Du.prototype={constructor:Du,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Lu="$";function Uu(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new Du(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function Pu(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=Lu+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=Lu+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new Du(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function qu(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Fu(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ju(t){return t.trim().split(/^|\s+/)}function Ru(t){return t.classList||new Ou(t)}function Ou(t){this._node=t,this._names=ju(t.getAttribute("class")||"")}function Iu(t,n){for(var e=Ru(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function $u(t,n){for(var e=Ru(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Yu(){this.textContent=""}function Hu(){this.innerHTML=""}function Xu(){this.nextSibling&&this.parentNode.appendChild(this)}function zu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vu(){return null}function Bu(){var t=this.parentNode;t&&t.removeChild(this)}function Zu(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Wu(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Ou.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qu={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Qu={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ju(t,n,e){return t=Gu(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Gu(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function Ku(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function ts(t,n,e){var r=Qu.hasOwnProperty(t.type)?Ju:Gu;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function ns(t,n,e){var r=Fu(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var es=[null];function rs(t,n){this._groups=t,this._parents=n}function is(t){return"string"==typeof t?new rs([[document.querySelector(t)]],[document.documentElement]):new rs([[t]],es)}function os(t){return function(){return t}}rs.prototype=function(){return new rs([[document.documentElement]],es)}.prototype={constructor:rs,select:function(t){"function"!=typeof t&&(t=Nu(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new rs(r,this._parents)},selectAll:function(t){var n;"function"!=typeof t&&(t=null==(n=t)?Au:function(){return this.querySelectorAll(n)});for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var u,s=e[a],c=s.length,l=0;l<c;++l)(u=s[l])&&(i.push(t.call(u,u.__data__,l,s)),o.push(u));return new rs(i,o)},filter:function(t){"function"!=typeof t&&(t=Su(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new rs(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e,r=n?Pu:Uu,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),g=p.length,y=s[l]=new Array(g),v=u[l]=new Array(g);r(f,h,y,v,c[l]=new Array(d),p,n);for(var m,w,_=0,b=0;_<g;++_)if(m=y[_]){for(_>=b&&(b=_+1);!(w=v[b])&&++b<g;);m._next=w||null}}return(u=new rs(u,i))._enter=s,u._exit=c,u},enter:function(){return new rs(this._enter||this._groups.map(Eu),this._parents)},exit:function(){return new rs(this._exit||this._groups.map(Eu),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new rs(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=qu);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new rs(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=bu(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):function(t,n){return t.style.getPropertyValue(n)||Fu(t).getComputedStyle(t,null).getPropertyValue(n)}(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=ju(t+"");if(arguments.length<2){for(var r=Ru(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?Iu:$u)(this,t)}}:n?function(t){return function(){Iu(this,t)}}:function(t){return function(){$u(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Yu:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Hu:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Xu)},lower:function(){return this.each(zu)},append:function(t){var n="function"==typeof t?t:xu(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:xu(t),r=null==n?Vu:"function"==typeof n?n:Nu(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Bu)},clone:function(t){return this.select(t?Wu:Zu)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?ts:Ku,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return ns(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return ns(this,t,n)}})(t,n))}};var as=Math.abs,us=Math.atan2,ss=Math.cos,cs=Math.max,ls=Math.min,fs=Math.sin,hs=Math.sqrt,ds=1e-12,ps=Math.PI,gs=ps/2,ys=2*ps;function vs(t){return t>=1?gs:t<=-1?-gs:Math.asin(t)}function ms(t){return t.innerRadius}function ws(t){return t.outerRadius}function _s(t){return t.startAngle}function bs(t){return t.endAngle}function xs(t){return t&&t.padAngle}function Ms(t,n,e,r,i,o,a){var u=t-e,s=n-r,c=(a?o:-o)/hs(u*u+s*s),l=c*s,f=-c*u,h=t+l,d=n+f,p=e+l,g=r+f,y=(h+p)/2,v=(d+g)/2,m=p-h,w=g-d,_=m*m+w*w,b=i-o,x=h*g-p*d,M=(w<0?-1:1)*hs(cs(0,b*b*_-x*x)),N=(x*w-m*M)/_,A=(-x*m-w*M)/_,k=(x*w+m*M)/_,C=(-x*m+w*M)/_,T=N-y,S=A-v,E=k-y,D=C-v;return T*T+S*S>E*E+D*D&&(N=k,A=C),{cx:N,cy:A,x01:-l,y01:-f,x11:N*(i/b-1),y11:A*(i/b-1)}}function Ns(){var t=ms,n=ws,e=os(0),r=null,i=_s,o=bs,a=xs,u=null;function s(){var s,c,l,f=+t.apply(this,arguments),h=+n.apply(this,arguments),d=i.apply(this,arguments)-gs,p=o.apply(this,arguments)-gs,g=as(p-d),y=p>d;if(u||(u=s=Ee()),h<f&&(c=h,h=f,f=c),h>ds)if(g>ys-ds)u.moveTo(h*ss(d),h*fs(d)),u.arc(0,0,h,d,p,!y),f>ds&&(u.moveTo(f*ss(p),f*fs(p)),u.arc(0,0,f,p,d,y));else{var v,m,w=d,_=p,b=d,x=p,M=g,N=g,A=a.apply(this,arguments)/2,k=A>ds&&(r?+r.apply(this,arguments):hs(f*f+h*h)),C=ls(as(h-f)/2,+e.apply(this,arguments)),T=C,S=C;if(k>ds){var E=vs(k/f*fs(A)),D=vs(k/h*fs(A));(M-=2*E)>ds?(b+=E*=y?1:-1,x-=E):(M=0,b=x=(d+p)/2),(N-=2*D)>ds?(w+=D*=y?1:-1,_-=D):(N=0,w=_=(d+p)/2)}var L=h*ss(w),U=h*fs(w),P=f*ss(x),q=f*fs(x);if(C>ds){var F=h*ss(_),j=h*fs(_),R=f*ss(b),O=f*fs(b);if(g<ps){var I=M>ds?function(t,n,e,r,i,o,a,u){var s=e-t,c=r-n,l=a-i,f=u-o,h=(l*(n-o)-f*(t-i))/(f*s-l*c);return[t+h*s,n+h*c]}(L,U,R,O,F,j,P,q):[P,q],$=L-I[0],Y=U-I[1],H=F-I[0],X=j-I[1],z=1/fs(((l=($*H+Y*X)/(hs($*$+Y*Y)*hs(H*H+X*X)))>1?0:l<-1?ps:Math.acos(l))/2),V=hs(I[0]*I[0]+I[1]*I[1]);T=ls(C,(f-V)/(z-1)),S=ls(C,(h-V)/(z+1))}}N>ds?S>ds?(v=Ms(R,O,L,U,h,S,y),m=Ms(F,j,P,q,h,S,y),u.moveTo(v.cx+v.x01,v.cy+v.y01),S<C?u.arc(v.cx,v.cy,S,us(v.y01,v.x01),us(m.y01,m.x01),!y):(u.arc(v.cx,v.cy,S,us(v.y01,v.x01),us(v.y11,v.x11),!y),u.arc(0,0,h,us(v.cy+v.y11,v.cx+v.x11),us(m.cy+m.y11,m.cx+m.x11),!y),u.arc(m.cx,m.cy,S,us(m.y11,m.x11),us(m.y01,m.x01),!y))):(u.moveTo(L,U),u.arc(0,0,h,w,_,!y)):u.moveTo(L,U),f>ds&&M>ds?T>ds?(v=Ms(P,q,F,j,f,-T,y),m=Ms(L,U,R,O,f,-T,y),u.lineTo(v.cx+v.x01,v.cy+v.y01),T<C?u.arc(v.cx,v.cy,T,us(v.y01,v.x01),us(m.y01,m.x01),!y):(u.arc(v.cx,v.cy,T,us(v.y01,v.x01),us(v.y11,v.x11),!y),u.arc(0,0,f,us(v.cy+v.y11,v.cx+v.x11),us(m.cy+m.y11,m.cx+m.x11),y),u.arc(m.cx,m.cy,T,us(m.y11,m.x11),us(m.y01,m.x01),!y))):u.arc(0,0,f,x,b,y):u.lineTo(P,q)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ps/2;return[ss(r)*e,fs(r)*e]},s.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:os(+n),s):t},s.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:os(+t),s):n},s.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:os(+t),s):e},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:os(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:os(+t),s):i},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:os(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:os(+t),s):a},s.context=function(t){return arguments.length?(u=null==t?null:t,s):u},s}function As(t){return t<0?-1:1}function ks(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),u=(o*i+a*r)/(r+i);return(As(o)+As(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(u))||0}function Cs(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Ts(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*n,o-u,a-u*e,o,a)}function Ss(t){this._context=t}function Es(t){this._context=t}function Ds(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ls(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Us(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Ss.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ts(this,this._t0,Cs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Ts(this,Cs(this,e=ks(this,t,n)),e);break;default:Ts(this,this._t0,e=ks(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(function(t){this._context=new Es(t)}.prototype=Object.create(Ss.prototype)).point=function(t,n){Ss.prototype.point.call(this,n,t)},Es.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};var Ps,qs,Fs,js={"-":"",_:" ",0:"0"},Rs=/^\s*\d+/,Os=/^%/,Is=/[\\^$*+?|[\]().{}]/g;function $s(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Ys(t){return t.replace(Is,"\\$&")}function Hs(t){return new RegExp("^(?:"+t.map(Ys).join("|")+")","i")}function Xs(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function zs(t,n,e){var r=Rs.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Vs(t,n,e){var r=Rs.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Bs(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Zs(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Ws(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Qs(t,n,e){var r=Rs.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Js(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Gs(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Ks(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function tc(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function nc(t,n,e){var r=Rs.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ec(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function rc(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function ic(t,n,e){var r=Rs.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function oc(t,n,e){var r=Rs.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function ac(t,n,e){var r=Rs.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function uc(t,n,e){var r=Os.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function sc(t,n,e){var r=Rs.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function cc(t,n,e){var r=Rs.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function lc(t,n){return $s(t.getDate(),n,2)}function fc(t,n){return $s(t.getHours(),n,2)}function hc(t,n){return $s(t.getHours()%12||12,n,2)}function dc(t,n){return $s(1+Ho.count(Zo(t),t),n,3)}function pc(t,n){return $s(t.getMilliseconds(),n,3)}function gc(t,n){return pc(t,n)+"000"}function yc(t,n){return $s(t.getMonth()+1,n,2)}function vc(t,n){return $s(t.getMinutes(),n,2)}function mc(t,n){return $s(t.getSeconds(),n,2)}function wc(t){var n=t.getDay();return 0===n?7:n}function _c(t,n){return $s(zo.count(Zo(t),t),n,2)}function bc(t,n){var e=t.getDay();return t=e>=4||0===e?Bo(t):Bo.ceil(t),$s(Bo.count(Zo(t),t)+(4===Zo(t).getDay()),n,2)}function xc(t){return t.getDay()}function Mc(t,n){return $s(Vo.count(Zo(t),t),n,2)}function Nc(t,n){return $s(t.getFullYear()%100,n,2)}function Ac(t,n){return $s(t.getFullYear()%1e4,n,4)}function kc(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+$s(n/60|0,"0",2)+$s(n%60,"0",2)}function Cc(t,n){return $s(t.getUTCDate(),n,2)}function Tc(t,n){return $s(t.getUTCHours(),n,2)}function Sc(t,n){return $s(t.getUTCHours()%12||12,n,2)}function Ec(t,n){return $s(1+Wo.count(ta(t),t),n,3)}function Dc(t,n){return $s(t.getUTCMilliseconds(),n,3)}function Lc(t,n){return Dc(t,n)+"000"}function Uc(t,n){return $s(t.getUTCMonth()+1,n,2)}function Pc(t,n){return $s(t.getUTCMinutes(),n,2)}function qc(t,n){return $s(t.getUTCSeconds(),n,2)}function Fc(t){var n=t.getUTCDay();return 0===n?7:n}function jc(t,n){return $s(Jo.count(ta(t),t),n,2)}function Rc(t,n){var e=t.getUTCDay();return t=e>=4||0===e?Ko(t):Ko.ceil(t),$s(Ko.count(ta(t),t)+(4===ta(t).getUTCDay()),n,2)}function Oc(t){return t.getUTCDay()}function Ic(t,n){return $s(Go.count(ta(t),t),n,2)}function $c(t,n){return $s(t.getUTCFullYear()%100,n,2)}function Yc(t,n){return $s(t.getUTCFullYear()%1e4,n,4)}function Hc(){return"+0000"}function Xc(){return"%"}function zc(t){return+t}function Vc(t){return Math.floor(+t/1e3)}!function(t){Ps=function(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,c=Hs(i),l=Xs(i),f=Hs(o),h=Xs(o),d=Hs(a),p=Xs(a),g=Hs(u),y=Xs(u),v=Hs(s),m=Xs(s),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:lc,e:lc,f:gc,H:fc,I:hc,j:dc,L:pc,m:yc,M:vc,p:function(t){return i[+(t.getHours()>=12)]},Q:zc,s:Vc,S:mc,u:wc,U:_c,V:bc,w:xc,W:Mc,x:null,X:null,y:Nc,Y:Ac,Z:kc,"%":Xc},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Cc,e:Cc,f:Lc,H:Tc,I:Sc,j:Ec,L:Dc,m:Uc,M:Pc,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:zc,s:Vc,S:qc,u:Fc,U:jc,V:Rc,w:Oc,W:Ic,x:null,X:null,y:$c,Y:Yc,Z:Hc,"%":Xc},b={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=v.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=y[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,e,r){return N(t,n,e,r)},d:tc,e:tc,f:ac,H:ec,I:ec,j:nc,L:oc,m:Ks,M:rc,p:function(t,n,e){var r=c.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1},Q:sc,s:cc,S:ic,u:Vs,U:Bs,V:Zs,w:zs,W:Ws,x:function(t,n,r){return N(t,e,n,r)},X:function(t,n,e){return N(t,r,n,e)},y:Js,Y:Qs,Z:Gs,"%":uc};function x(t,n){return function(e){var r,i,o,a=[],u=-1,s=0,c=t.length;for(e instanceof Date||(e=new Date(+e));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=js[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function M(t,n){return function(e){var r,i,o=Us(1900);if(N(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=Ls(Us(o.y))).getUTCDay())>4||0===i?Go.ceil(r):Go(r),r=Wo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=n(Us(o.y))).getDay())>4||0===i?Vo.ceil(r):Vo(r),r=Ho.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ls(Us(o.y)).getUTCDay():n(Us(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ls(o)):n(o)}}function N(t,n,e,r){for(var i,o,a=0,u=n.length,s=e.length;a<u;){if(r>=s)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=b[i in js?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return w.x=x(e,w),w.X=x(r,w),w.c=x(n,w),_.x=x(e,_),_.X=x(r,_),_.c=x(n,_),{format:function(t){var n=x(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",Ds);return n.toString=function(){return t},n},utcFormat:function(t){var n=x(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t,Ls);return n.toString=function(){return t},n}}}(t),Ps.format,Ps.parse,qs=Ps.utcFormat,Fs=Ps.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||qs("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Fs("%Y-%m-%dT%H:%M:%S.%LZ"),"object"==typeof performance&&performance.now?performance:Date,"object"==typeof window&&window.requestAnimationFrame&&window.requestAnimationFrame.bind(window);var Bc="http://www.w3.org/1999/xhtml",Zc={svg:"http://www.w3.org/2000/svg",xhtml:Bc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wc(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Zc.hasOwnProperty(n)?{space:Zc[n],local:t}:t}function Qc(t){var n=Wc(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Bc&&n.documentElement.namespaceURI===Bc?n.createElement(t):n.createElementNS(e,t)}})(n)}function Jc(){}function Gc(t){return null==t?Jc:function(){return this.querySelector(t)}}function Kc(){return[]}function tl(t){return null==t?Kc:function(){return this.querySelectorAll(t)}}function nl(t){return function(){return this.matches(t)}}function el(t){return new Array(t.length)}function rl(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}rl.prototype={constructor:rl,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var il="$";function ol(t,n,e,r,i,o){for(var a,u=0,s=n.length,c=o.length;u<c;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new rl(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function al(t,n,e,r,i,o,a){var u,s,c,l={},f=n.length,h=o.length,d=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(d[u]=c=il+a.call(s,s.__data__,u,n),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c=il+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):e[u]=new rl(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&l[d[u]]===s&&(i[u]=s)}function ul(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function sl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function cl(t,n){return t.style.getPropertyValue(n)||sl(t).getComputedStyle(t,null).getPropertyValue(n)}function ll(t){return t.trim().split(/^|\s+/)}function fl(t){return t.classList||new hl(t)}function hl(t){this._node=t,this._names=ll(t.getAttribute("class")||"")}function dl(t,n){for(var e=fl(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function pl(t,n){for(var e=fl(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function gl(){this.textContent=""}function yl(){this.innerHTML=""}function vl(){this.nextSibling&&this.parentNode.appendChild(this)}function ml(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wl(){return null}function _l(){var t=this.parentNode;t&&t.removeChild(this)}function bl(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function xl(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}hl.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ml={};"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ml={mouseenter:"mouseover",mouseleave:"mouseout"}));function Nl(t,n,e){return t=Al(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Al(t,n,e){return function(r){try{t.call(this,this.__data__,n,e)}finally{}}}function kl(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Cl(t,n,e){var r=Ml.hasOwnProperty(t.type)?Nl:Al;return function(i,o,a){var u,s=this.__on,c=r(n,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=e),void(u.value=n);this.addEventListener(t.type,c,e),u={type:t.type,name:t.name,value:n,listener:c,capture:e},s?s.push(u):this.__on=[u]}}function Tl(t,n,e){var r=sl(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}var Sl=[null];function El(t,n){this._groups=t,this._parents=n}function Dl(){return new El([[document.documentElement]],Sl)}El.prototype=Dl.prototype={constructor:El,select:function(t){"function"!=typeof t&&(t=Gc(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new El(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=tl(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new El(r,i)},filter:function(t){"function"!=typeof t&&(t=nl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new El(r,this._parents)},data:function(t,n){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e,r=n?al:ol,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],d=h.length,p=t.call(f,f&&f.__data__,l,i),g=p.length,y=s[l]=new Array(g),v=u[l]=new Array(g);r(f,h,y,v,c[l]=new Array(d),p,n);for(var m,w,_=0,b=0;_<g;++_)if(m=y[_]){for(_>=b&&(b=_+1);!(w=v[b])&&++b<g;);m._next=w||null}}return(u=new El(u,i))._enter=s,u._exit=c,u},enter:function(){return new El(this._enter||this._groups.map(el),this._parents)},exit:function(){return new El(this._exit||this._groups.map(el),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new El(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=ul);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(n)}return new El(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=Wc(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):cl(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=ll(t+"");if(arguments.length<2){for(var r=fl(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?dl:pl)(this,t)}}:n?function(t){return function(){dl(this,t)}}:function(t){return function(){pl(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?gl:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?yl:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(vl)},lower:function(){return this.each(ml)},append:function(t){var n="function"==typeof t?t:Qc(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:Qc(t),r=null==n?wl:"function"==typeof n?n:Gc(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(_l)},clone:function(t){return this.select(t?xl:bl)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?Cl:kl,null==e&&(e=!1),r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Tl(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Tl(this,t,n)}})(t,n))}};var Ll={value:function(){}};function Ul(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Pl(r)}function Pl(t){this._=t}function ql(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Fl(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ll,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Pl.prototype=Ul.prototype={constructor:Pl,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=Fl(i[e],t.name,n);else if(null==n)for(e in i)i[e]=Fl(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=ql(i[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Pl(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var jl,Rl,Ol=0,Il=0,$l=0,Yl=1e3,Hl=0,Xl=0,zl=0,Vl="object"==typeof performance&&performance.now?performance:Date,Bl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zl(){return Xl||(Bl(Wl),Xl=Vl.now()+zl)}function Wl(){Xl=0}function Ql(){this._call=this._time=this._next=null}function Jl(t,n,e){var r=new Ql;return r.restart(t,n,e),r}function Gl(){Xl=(Hl=Vl.now())+zl,Ol=Il=0;try{!function(){Zl(),++Ol;for(var t,n=jl;n;)(t=Xl-n._time)>=0&&n._call.call(null,t),n=n._next;--Ol}()}finally{Ol=0,function(){var t,n,e=jl,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:jl=n);Rl=t,tf(r)}(),Xl=0}}function Kl(){var t=Vl.now(),n=t-Hl;n>Yl&&(zl-=n,Hl=t)}function tf(t){Ol||(Il&&(Il=clearTimeout(Il)),t-Xl>24?(t<1/0&&(Il=setTimeout(Gl,t-Vl.now()-zl)),$l&&($l=clearInterval($l))):($l||(Hl=Vl.now(),$l=setInterval(Kl,Yl)),Ol=1,Bl(Gl)))}function nf(t,n,e){var r=new Ql;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}Ql.prototype=Jl.prototype={constructor:Ql,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Zl():+e)+(null==n?0:+n),this._next||Rl===this||(Rl?Rl._next=this:jl=this,Rl=this),this._call=t,this._time=e,tf()},stop:function(){this._call&&(this._call=null,this._time=1/0,tf())}};var ef=Ul("start","end","interrupt"),rf=[],of=0,af=1,uf=2,sf=3,cf=4,lf=5,ff=6;function hf(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(s){var c,l,f,h;if(e.state!==af)return u();for(c in i)if((h=i[c]).name===e.name){if(h.state===sf)return nf(o);h.state===cf?(h.state=ff,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<n&&(h.state=ff,h.timer.stop(),delete i[c])}if(nf(function(){e.state===sf&&(e.state=cf,e.timer.restart(a,e.delay,e.time),a(s))}),e.state=uf,e.on.call("start",t,t.__data__,e.index,e.group),e.state===uf){for(e.state=sf,r=new Array(f=e.tween.length),c=0,l=-1;c<f;++c)(h=e.tween[c].value.call(t,t.__data__,e.index,e.group))&&(r[++l]=h);r.length=l+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(u),e.state=lf,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);e.state===lf&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){for(var r in e.state=ff,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=Jl(function(t){e.state=af,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:ef,tween:rf,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:of})}function df(t,n){var e=gf(t,n);if(e.state>of)throw new Error("too late; already scheduled");return e}function pf(t,n){var e=gf(t,n);if(e.state>uf)throw new Error("too late; already started");return e}function gf(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function yf(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function vf(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function mf(){}var wf="\\s*([+-]?\\d+)\\s*",_f="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xf=/^#([0-9a-f]{3})$/,Mf=/^#([0-9a-f]{6})$/,Nf=new RegExp("^rgb\\("+[wf,wf,wf]+"\\)$"),Af=new RegExp("^rgb\\("+[bf,bf,bf]+"\\)$"),kf=new RegExp("^rgba\\("+[wf,wf,wf,_f]+"\\)$"),Cf=new RegExp("^rgba\\("+[bf,bf,bf,_f]+"\\)$"),Tf=new RegExp("^hsl\\("+[_f,bf,bf]+"\\)$"),Sf=new RegExp("^hsla\\("+[_f,bf,bf,_f]+"\\)$"),Ef={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Df(t){var n;return t=(t+"").trim().toLowerCase(),(n=xf.exec(t))?new Ff((n=parseInt(n[1],16))>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):(n=Mf.exec(t))?Lf(parseInt(n[1],16)):(n=Nf.exec(t))?new Ff(n[1],n[2],n[3],1):(n=Af.exec(t))?new Ff(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=kf.exec(t))?Uf(n[1],n[2],n[3],n[4]):(n=Cf.exec(t))?Uf(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Tf.exec(t))?Rf(n[1],n[2]/100,n[3]/100,1):(n=Sf.exec(t))?Rf(n[1],n[2]/100,n[3]/100,n[4]):Ef.hasOwnProperty(t)?Lf(Ef[t]):"transparent"===t?new Ff(NaN,NaN,NaN,0):null}function Lf(t){return new Ff(t>>16&255,t>>8&255,255&t,1)}function Uf(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ff(t,n,e,r)}function Pf(t){return t instanceof mf||(t=Df(t)),t?new Ff((t=t.rgb()).r,t.g,t.b,t.opacity):new Ff}function qf(t,n,e,r){return 1===arguments.length?Pf(t):new Ff(t,n,e,null==r?1:r)}function Ff(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function jf(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Rf(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Of(t,n,e,r)}function Of(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function If(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}yf(mf,Df,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),yf(Ff,qf,vf(mf,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ff(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ff(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+jf(this.r)+jf(this.g)+jf(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),yf(Of,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof Of)return new Of(t.h,t.s,t.l,t.opacity);if(t instanceof mf||(t=Df(t)),!t)return new Of;if(t instanceof Of)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Of(a,u,s,t.opacity)}(t):new Of(t,n,e,null==r?1:r)},vf(mf,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Of(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Of(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ff(If(t>=240?t-240:t+120,i,r),If(t,i,r),If(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var $f=Math.PI/180,Yf=180/Math.PI,Hf=.96422,Xf=1,zf=.82521,Vf=4/29,Bf=6/29,Zf=3*Bf*Bf,Wf=Bf*Bf*Bf;function Qf(t){if(t instanceof Jf)return new Jf(t.l,t.a,t.b,t.opacity);if(t instanceof eh){if(isNaN(t.h))return new Jf(t.l,0,0,t.opacity);var n=t.h*$f;return new Jf(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof Ff||(t=Pf(t));var e,r,i=nh(t.r),o=nh(t.g),a=nh(t.b),u=Gf((.2225045*i+.7168786*o+.0606169*a)/Xf);return i===o&&o===a?e=r=u:(e=Gf((.4360747*i+.3850649*o+.1430804*a)/Hf),r=Gf((.0139322*i+.0971045*o+.7141733*a)/zf)),new Jf(116*u-16,500*(e-u),200*(u-r),t.opacity)}function Jf(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Gf(t){return t>Wf?Math.pow(t,1/3):t/Zf+Vf}function Kf(t){return t>Bf?t*t*t:Zf*(t-Vf)}function th(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function nh(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function eh(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}yf(Jf,function(t,n,e,r){return 1===arguments.length?Qf(t):new Jf(t,n,e,null==r?1:r)},vf(mf,{brighter:function(t){return new Jf(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Jf(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ff(th(3.1338561*(n=Hf*Kf(n))-1.6168667*(t=Xf*Kf(t))-.4906146*(e=zf*Kf(e))),th(-.9787684*n+1.9161415*t+.033454*e),th(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),yf(eh,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof eh)return new eh(t.h,t.c,t.l,t.opacity);if(t instanceof Jf||(t=Qf(t)),0===t.a&&0===t.b)return new eh(NaN,0,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Yf;return new eh(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new eh(t,n,e,null==r?1:r)},vf(mf,{brighter:function(t){return new eh(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new eh(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Qf(this).rgb()}}));var rh=-.29227,ih=-.90649,oh=1.97294,ah=oh*ih,uh=1.78277*oh,sh=1.78277*rh- -.14861*ih;function ch(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function lh(t){return function(){return t}}function fh(t){return 1==(t=+t)?hh:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):lh(isNaN(n)?e:n)}}function hh(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):lh(isNaN(t)?n:t)}yf(ch,function(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof ch)return new ch(t.h,t.s,t.l,t.opacity);t instanceof Ff||(t=Pf(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(sh*r+ah*n-uh*e)/(sh+ah-uh),o=r-i,a=(oh*(e-i)-rh*o)/ih,u=Math.sqrt(a*a+o*o)/(oh*i*(1-i)),s=u?Math.atan2(a,o)*Yf-120:NaN;return new ch(s<0?s+360:s,u,i,t.opacity)}(t):new ch(t,n,e,null==r?1:r)},vf(mf,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ch(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ch(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*$f,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ff(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(rh*r+ih*i)),255*(n+e*(oh*r)),this.opacity)}}));var dh=function t(n){var e=fh(n);function r(t,n){var r=e((t=qf(t)).r,(n=qf(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=hh(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function ph(t,n){return n-=t=+t,function(e){return t+n*e}}var gh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yh=new RegExp(gh.source,"g");var vh,mh,wh,_h,bh=180/Math.PI,xh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Mh(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*bh,skewX:Math.atan(s)*bh,scaleX:a,scaleY:u}}function Nh(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:ph(t,i)},{i:s-2,x:ph(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ph(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ph(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:ph(t,e)},{i:u-2,x:ph(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var Ah=Nh(function(t){return"none"===t?xh:(vh||(vh=document.createElement("DIV"),mh=document.documentElement,wh=document.defaultView),vh.style.transform=t,t=wh.getComputedStyle(mh.appendChild(vh),null).getPropertyValue("transform"),mh.removeChild(vh),Mh(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),kh=Nh(function(t){return null==t?xh:(_h||(_h=document.createElementNS("http://www.w3.org/2000/svg","g")),_h.setAttribute("transform",t),(t=_h.transform.baseVal.consolidate())?Mh((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):xh)},", ",")",")");Math.SQRT2;function Ch(t,n,e){var r=t._id;return t.each(function(){var t=pf(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return gf(t,r).value[n]}}function Th(t,n){var e;return("number"==typeof n?ph:n instanceof Df?dh:(e=Df(n))?(n=e,dh):function(t,n){var e,r,i,o=gh.lastIndex=yh.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=gh.exec(t))&&(r=yh.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:ph(e,r)})),o=yh.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})})(t,n)}var Sh=Dl.prototype.constructor;var Eh=0;function Dh(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Lh(){return++Eh}var Uh=Dl.prototype;Dh.prototype=function(t){return Dl().transition(t)}.prototype={constructor:Dh,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Gc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(u=c[h])&&(s=t.call(u,u.__data__,h,c))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,hf(f[h],n,e,h,f,gf(u,e)));return new Dh(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=tl(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,c=r[u],l=c.length,f=0;f<l;++f)if(s=c[f]){for(var h,d=t.call(s,s.__data__,f,c),p=gf(s,e),g=0,y=d.length;g<y;++g)(h=d[g])&&hf(h,n,e,g,d,p);o.push(d),a.push(s)}return new Dh(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=nl(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new Dh(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=n[u],l=e[u],f=c.length,h=a[u]=new Array(f),d=0;d<f;++d)(s=c[d]||l[d])&&(h[d]=s);for(;u<r;++u)a[u]=n[u];return new Dh(a,this._parents,this._name,this._id)},selection:function(){return new Sh(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Lh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=gf(a,n);hf(a,t,e,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Dh(r,this._parents,t,e)},call:Uh.call,nodes:Uh.nodes,node:Uh.node,size:Uh.size,empty:Uh.empty,each:Uh.each,on:function(t,n){var e=this._id;return arguments.length<2?gf(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?df:pf;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=Wc(t),r="transform"===e?kh:Th;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var a,u=e(this);if(null!=u)return(a=this.getAttribute(t))===u?null:a===r&&u===i?o:o=n(r=a,i=u);this.removeAttribute(t)}})(e,r,Ch(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=Wc(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Ah:Th;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=cl(this,t),a=(this.style.removeProperty(t),cl(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var a=cl(this,t),u=e(this);return null==u&&(this.style.removeProperty(t),u=cl(this,t)),a===u?null:a===r&&u===i?o:o=n(r=a,i=u)}}(t,r,Ch(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=cl(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ch(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=gf(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=pf(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=pf(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,c=i.length;s<c;++s)if(i[s].name===n){i[s]=u;break}s===c&&i.push(u)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){df(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){df(this,t).delay=n}})(n,t)):gf(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){pf(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){pf(this,t).duration=n}})(n,t)):gf(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){pf(this,t).ease=n}}(n,t)):gf(this.node(),n).ease}};Math.PI,Math.PI;var Ph={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function qh(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return Ph.time=Zl(),Ph;return e}Dl.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>uf&&e.state<lf,e.state=ff,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)})},Dl.prototype.transition=function(t){var n,e;t instanceof Dh?(n=t._id,t=t._name):(n=Lh(),(e=Ph).time=Zl(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&hf(a,t,n,c,u,e||qh(a,n));return new Dh(r,this._parents,t,n)};var Fh=void 0;function jh(){var t,n,e;Fh.showing=!Fh.showing,t=document.querySelector("#student-progress"),n=t.querySelector(".student-progress-complete"),e=t.querySelectorAll(".student-progress-correct"),function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.querySelector(".student-progress__path"),r=t.querySelector(".student-progress__count"),i=r.getAttribute("data-count"),o=r.getAttribute("data-total"),a=void 0,u=void 0,s=void 0,c=void 0;n?(a=i,u=0,s=0,c=0):(a=0,u=i,s=500,c=1500);var l=t.getAttribute("width"),f=t.getAttribute("height"),h=Math.min(l,f)/2,d=Ns().innerRadius(h-5).outerRadius(h).startAngle(0),p=is(e).attr("d",d),g=is(r);function y(t,n){t.attrTween("d",function(t){var e=so(t.endAngle,n),r=so(a,u);return function(n){return t.endAngle=e(n),g.text(Math.floor(r(n))),d(t)}})}setTimeout(function(){p.transition().delay(s*Math.random()).duration(c).ease(Pr).call(y,2*Math.PI*u/o)},0)}(n,!Fh.showing),Array.from(e).map(function(t){!function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=t.querySelector(".student-progress__path"),r=t.querySelector(".student-progress__count"),i=r.getAttribute("data-count"),o=r.getAttribute("data-total"),a=Fo().domain([0,1]).range(["#b30000","#f17f4d","#339966"]),u=void 0,s=void 0,c=void 0,l=void 0;n?(u=i,s=0,c=0,l=0):(u=0,s=i,c=500,l=1500);var f=t.getAttribute("width"),h=t.getAttribute("height"),d=Math.min(f,h)/2,p=Ns().innerRadius(d-5).outerRadius(d).startAngle(0),g=is(e).attr("d",p),y=is(r);function v(t,n){t.attrTween("d",function(t){var e=so(t.endAngle,n),r=so(u,s);return function(n){t.endAngle=e(n);var i=r(n);return g.style("fill",a(i/o)),y.text(Math.floor(i)),y.style("fill",a(i/o)),p(t)}})}setTimeout(function(){g.transition().delay(c*Math.random()).duration(l).ease(Pr).call(v,2*Math.PI*s/o)},0)}(t,!Fh.showing)})}function Rh(){var t=document.querySelector("#student-progress");Fh.results.map(function(n){t.append(function(t){var n=document.createElement("li");n.classList.add("mdc-list-item");var e=document.createElement("span");e.classList.add("mdc-list-item__graphic","mdc-theme--primary");var r=document.createElement("i");r.classList.add("mdc-theme--primary","material-icons","md-48"),r.textContent="question_answer",e.append(r),n.append(e);var i=document.createElement("span");i.classList.add("mdc-list-item__text","mdc-theme--secondary","bold"),i.textContent=t.questionTitle;var o=document.createElement("span");o.classList.add("mdc-list-item__secondary-text"),o.textContent=t.nStudents+" students",i.append(o),n.append(i);var a=document.createElement("span");a.classList.add("mdc-list-item__meta"),n.append(a);var u=t.nStudents;return function(t,n,e,r,i){var o=Math.min(i,r)/2,a=is(t).append("svg").attr("class","student-progress-complete").attr("width",i).attr("height",r).append("g").attr("transform","translate("+i/2+","+r/2+")"),u=Ns().innerRadius(o-5).outerRadius(o).startAngle(0).endAngle(2*Math.PI),s=Ns().innerRadius(o-5).outerRadius(o).startAngle(0);a.append("path").attr("d",u).attr("class","fill-primary").style("opacity","0.10"),a.append("path").datum({endAngle:0}).attr("d",s).attr("class","fill-primary student-progress__path"),a.append("text").attr("data-count",n).attr("data-total",e).text(0).attr("text-anchor","middle").attr("dy",8).attr("class","fill-primary student-progress__count").attr("font-size","20px")}(a,t.nCompleted,u,48,62),Oh(a,t.nFirstCorrect,u,48,62),Oh(a,t.nCorrect,u,48,62),n}(n))})}function Oh(t,n,e,r,i){var o=Math.min(i,r)/2,a=is(t).append("svg").attr("class","student-progress-correct").attr("width",i).attr("height",r).append("g").attr("transform","translate("+i/2+","+r/2+")"),u=Fo().domain([0,1]).range(["#b30000","#f17f4d","#339966"]),s=Ns().innerRadius(o-5).outerRadius(o).startAngle(0).endAngle(2*Math.PI),c=Ns().innerRadius(o-5).outerRadius(o).startAngle(0);return a.append("path").attr("d",s).attr("class","fill-primary").style("opacity","0.10"),a.append("path").datum({endAngle:0}).attr("d",c).style("fill",u(0)).attr("class","student-progress__path"),a.append("text").attr("data-count",n).attr("data-total",e).text(0).attr("text-anchor","middle").attr("dy",8).style("fill",u(0)).attr("font-size","24px").attr("class","student-progress__count"),a}function Ih(){document.querySelector("#student-progress").parentNode.parentNode.querySelector(".foldable--title").addEventListener("click",jh)}function $h(t){var n=x(null,"get");fetch(t,n).then(function(t){return t.json()}).then(function(t){!function(t){Fh={showing:!1,results:t.map(function(t){return{questionTitle:t.question_title,nStudents:t.n_students,nCompleted:t.n_completed,nFirstCorrect:t.n_first_correct,nCorrect:t.n_correct}})}}(t.progress),Ih(),Rh()}).catch(function(t){return console.log(t)})}var Yh=void 0;function Hh(){var t=document.querySelector("#assignment-distribution button");t.disabled=!0;var n=x({},"post");fetch(Yh.urls.distributeAssignment,n).then(function(t){return t.json()}).then(function(t){Yh.assignment={hash:t.hash,distributionDate:t.distribution_date?new Date(t.distribution_date):null},zh()}).catch(function(n){console.log(n),t.disabled=null})}function Xh(){var t=x({name:"question_list",value:Array.from(document.querySelectorAll("#question-list .draggable")).map(function(t){return t.getAttribute("data-draggable-name")})},"post");fetch(Yh.urls.groupAssignmentUpdate,t).then(function(){document.querySelector("#question-list-save").disabled=!0}).catch(function(t){console.log(t)})}function zh(){var t,n=document.querySelector("#assignment-distribution");if(Yh.assignment.distributionDate){n.textContent=Yh.translations.distributed;var e=document.createElement("span");e.classList.add("mdc-list-item__secondary-text"),e.textContent=(t=Yh.assignment.distributionDate).toLocaleString("en-ca",{year:"numeric"})+"-"+t.toLocaleString("en-ca",{month:"2-digit"})+"-"+t.toLocaleString("en-ca",{day:"2-digit"})+" "+t.toLocaleString("en-ca",{hour:"2-digit",hour12:!1})+":"+t.toLocaleString("en-ca",{minute:"2-digit"}),n.append(e)}else{var r=document.createElement("button");r.classList.add("mdc-button","mdc-button--raised"),r.textContent=Yh.translations.distribute,n.append(r)}}function Vh(){Array.from(document.querySelectorAll(".draggable")).map(function(t){return t.addEventListener("dragenter",function(){document.querySelector("#question-list-save").disabled=!1})}),document.querySelector("#question-list-save").addEventListener("click",Xh),Array.from(document.querySelectorAll("email-btn")).map(function(t){return t.addEventListener("click",function(t){return function(t){var n=t.currentTarget,e=x({email:n.parentNode.parentNode.querySelector(".student-list--email").getAttribute("data-email")},"post");fetch(Yh.urls.sendStudentAssignment,e).then(function(t){t.ok?(n.style.color="#00cc66",setTimeout(function(){n.style["transition-duration"]="3s"},300),setTimeout(function(){n.style.color="#a9a9a9",n.style["transition-duration"]="none"},700)):(n.style.color="#b30000",setTimeout(function(){n.style["transition-duration"]="3s"},300),setTimeout(function(){n.style.color="#a9a9a9",n.style["transition-duration"]="none"},700))}).catch(function(t){console.log(t)})}(t)})}),Yh.assignment.distributionDate||document.querySelector("#assignment-distribution button").addEventListener("click",Hh)}return t.editField=function(t,e,r){var i=t.currentTarget.parentNode.parentNode,a=t.currentTarget.parentNode.previousElementSibling,u=t.currentTarget.parentNode.previousElementSibling.firstElementChild,s=void 0;if("text"==e)s=function(t){var n=document.createElement("div"),e=t.getAttribute("name");n.setAttribute("name",e);var r=document.createElement("input");return r.type="text",r.value=t.textContent,r.setAttribute("data-old-content",t.textContent),n.append(r),n}(u);else if("textList"==e)s=function(t){var n=document.createElement("div"),e=t.getAttribute("name");n.setAttribute("name",e);var r=t.childNodes[0].cloneNode(!0),i=document.createElement("li"),o=document.createElement("input");return o.type="text",o.value="",o.setAttribute("data-old-content",""),i.append(o),r.append(i),n.append(r),n}(u);else{if("datetime"!=e)return void console.log("The `editField` function isn 't implemented for type "+e+".");s=function(t){var e=document.createElement("div"),r=t.getAttribute("name");e.setAttribute("name",r);var i=document.createElement("input");i.type="text",i.setAttribute("data-old-content",t.textContent),e.append(i);var a=t.textContent.match(/(\d{4})-(\d{2})-(\d{2})\s+(\d{2}):(\d{2})/).slice(1).map(function(t){return parseInt(t)});return a[1]-=1,n(i,{enableTime:!0,defaultDate:new(Function.prototype.bind.apply(Date,[null].concat(o(a)))),dateFormat:"Z",altInput:!0,altFormat:"Y-m-d H:i",minDate:"today"}),e}(u)}a.replaceChild(s,u);var c=t.currentTarget.parentNode,l=c.cloneNode(!1);l=_(l,e,!1,r),i.replaceChild(l,c)},t.saveField=function(t,n,e,r){var i=t.currentTarget.parentNode.parentNode,o=t.currentTarget.parentNode.previousElementSibling,a=t.currentTarget.parentNode.previousElementSibling.firstElementChild,u=o.parentNode.parentNode.parentNode.getAttribute("data-update-url");if("text"==n)y(a,e,r,u).then(function(t){o.replaceChild(t,a)});else if("textList"==n)v(a,e,r,u).then(function(t){o.replaceChild(t,a)});else{if("datetime"!=n)return void console.log("The `saveField` function isn't implemented for type "+n+".");m(a,e,r,u).then(function(t){o.replaceChild(t,a)})}var s=t.currentTarget.parentNode,c=s.cloneNode(!1);c=_(c,n,!0,r),i.replaceChild(c,s)},t.removeAssignment=function(t,n){t.stopPropagation();var e=t.currentTarget.parentNode.parentNode,r=e.parentNode,i=document.getElementsByName("csrfmiddlewaretoken")[0].value;n+="remove/",fetch(n,{method:"POST",credentials:"include",headers:{"X-CSRFToken":i}}).then(function(t){t.ok&&(r.removeChild(e.nextSibling),r.removeChild(e),1==r.childNodes.length&&location.reload())})},t.toggleStudentIdNeeded=function(t,n){var e=x({name:"student_id_needed",value:t.currentTarget.checked},"post");fetch(n,e).then(function(t){t.ok||console.log(t)}).catch(function(t){console.log(t)})},t.initAssignment=function(t){!function(t){Yh={assignment:{hash:t.assignment.hash,distributionDate:t.assignment.distribution_date?new Date(t.assignment.distribution_date):null},urls:{getAssignmentStudentProgress:t.urls.get_assignment_student_progress,sendStudentAssignment:t.urls.send_student_assignment,groupAssignmentUpdate:t.urls.group_assignment_update,distributeAssignment:t.urls.distribute_assignment},translations:{distribute:t.translations.distribute,distributed:t.translations.distributed}}}(t),zh(),Vh(),$h(Yh.urls.getAssignmentStudentProgress)},t}({},flatpickr);
