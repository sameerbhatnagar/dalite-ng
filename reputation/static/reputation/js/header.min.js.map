<<<<<<< HEAD
{"version":3,"file":"header.min.js","sources":["peerinst/static/peerinst/js/ajax.js","peerinst/static/peerinst/js/utils.js","reputation/static/reputation/js/_header/teacher.js","reputation/static/reputation/js/header.js"],"sourcesContent":["export function getCsrfToken() {\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n","// @flow\n\"use strict\";\n\nexport function clear(node: HTMLElement): HTMLElement {\n  while (node.hasChildNodes()) {\n    // $FlowFixMe\n    node.removeChild(node.lastChild);\n  }\n  return node;\n}\n\nexport function formatDatetime(datetime: Date): string {\n  return (\n    datetime.toLocaleString(\"en-ca\", { year: \"numeric\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { month: \"2-digit\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { day: \"2-digit\" }) +\n    \" \" +\n    datetime.toLocaleString(\"en-ca\", { hour: \"2-digit\", hour12: false }) +\n    \":\" +\n    datetime.toLocaleString(\"en-ca\", { minute: \"2-digit\" })\n  );\n}\n\nexport function createSvg(name: string, useSprite: boolean = true): Element {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  if (useSprite) {\n    use.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", `#${name}`);\n  } else {\n    use.setAttributeNS(\n      \"http://www.w3.org/1999/xlink\",\n      \"href\",\n      window.location.protocol +\n        \"//\" +\n        window.location.host +\n        \"/static/peerinst/icons.svg#\" +\n        name,\n    );\n  }\n  svg.append(use);\n  return svg;\n}\n\nexport function showAlert(msg: string) {\n  const fullPageBox = document.createElement(\"div\");\n  fullPageBox.classList.add(\"alert-box__full-page\");\n  fullPageBox.addEventListener(\"click\", (event: MouseEvent) => {\n    event.stopPropagation();\n    fullPageBox.parentNode?.removeChild(fullPageBox);\n  });\n  document.body?.appendChild(fullPageBox);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"alert-box__box\");\n  box.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  fullPageBox.appendChild(box);\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"alert-box__msg\");\n  span.textContent = msg;\n  box.appendChild(span);\n\n  const ok = document.createElement(\"button\");\n  ok.classList.add(\"alert-box__btn\", \"mdc-button\", \"mdc-button--unelevated\");\n  ok.textContent = \"Ok\";\n  box.appendChild(ok);\n}\n","// @flow\nimport { buildReq } from \"../../../../../peerinst/static/peerinst/js/ajax.js\";\nimport {\n  clear,\n  createSvg,\n} from \"../../../../../peerinst/static/peerinst/js/utils.js\";\n\nexport class TeacherReputationHeader extends HTMLElement {\n  get reputationUrl(): string {\n    const url = this.getAttribute(\"reputation-url\");\n    if (!url) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `reputation-url` attribute\",\n      );\n    }\n    return url;\n  }\n  get reputationType(): string {\n    const type = this.getAttribute(\"reputation-type\");\n    if (!type) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `reputation-type` attribute\",\n      );\n    }\n    return type;\n  }\n  get reputationId(): string {\n    const id = this.getAttribute(\"reputation-id\");\n    if (!id) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `reputation-id` attribute\",\n      );\n    }\n    return id;\n  }\n  get nonce_(): string {\n    const nonce = this.getAttribute(\"nonce\") || this.nonce;\n    if (!nonce) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `nonce` attribute\",\n      );\n    }\n    return nonce;\n  }\n  get hidden() {\n    return this.hasAttribute(\"hidden\");\n  }\n  get open() {\n    return this.hasAttribute(\"open\");\n  }\n  set hidden(val: boolean) {\n    if (val) {\n      this.setAttribute(\"hidden\", \"\");\n    } else {\n      this.removeAttribute(\"hidden\");\n    }\n  }\n  set open(val: boolean) {\n    if (val) {\n      this.setAttribute(\"open\", \"\");\n    } else {\n      this.removeAttribute(\"open\");\n    }\n  }\n\n  constructor() {\n    super();\n\n    const shadow = this.attachShadow({ mode: \"open\" });\n\n    this.hidden = true;\n\n    this.init(shadow);\n  }\n\n  async init(shadow: ShadowRoot) {\n    /*********/\n    /* model */\n    /*********/\n\n    type Reputation = {\n      name: string,\n      description: string,\n      reputation: number,\n    };\n\n    type Model = {\n      id: number,\n      element: TeacherReputationHeader,\n      reputation: ?number,\n      reputationType: string,\n      reputationUrl: string,\n      reputations: Array<Reputation>,\n      shadow: ShadowRoot,\n    };\n\n    const model: Model = {\n      id: parseInt(this.reputationId),\n      element: this,\n      reputation: null,\n      reputationType: this.reputationType,\n      reputationUrl: this.reputationUrl,\n      reputations: [],\n      shadow: shadow,\n    };\n\n    /**********/\n    /* update */\n    /**********/\n\n    async function update() {\n      await getReputation();\n      if (model.reputation !== null) {\n        model.element.hidden = false;\n      }\n    }\n\n    async function getReputation() {\n      const postData = {\n        reputation_type: model.reputationType,\n        id: model.id,\n      };\n      const req = buildReq(postData, \"post\");\n      const resp = await fetch(model.reputationUrl, req);\n      const data = await resp.json();\n      model.reputation = data.reputation;\n      model.reputations = data.reputations.map(reputation => ({\n        name: reputation.full_name,\n        description: reputation.description,\n        reputation: reputation.reputation,\n      }));\n      iconView();\n      listView();\n    }\n\n    function toggleReputationList() {\n      model.element.open = !model.element.open;\n      iconView();\n      listView();\n    }\n\n    /********/\n    /* view */\n    /********/\n\n    function view() {\n      shadow.appendChild(styleView());\n\n      const container = document.createElement(\"div\");\n      container.id = \"container\";\n      shadow.appendChild(container);\n\n      container.appendChild(iconView());\n      container.appendChild(listView());\n    }\n\n    function iconView() {\n      let icon = shadow.getElementById(\"icon\");\n\n      if (!icon) {\n        icon = document.createElement(\"div\");\n        icon.id = \"icon\";\n        icon.title = \"Reputation\";\n        icon.addEventListener(\"click\", (event: MouseEvent) => {\n          event.stopPropagation();\n          toggleReputationList();\n        });\n\n        const star = createSvg(\"star\", false);\n        star.id = \"icon__icon\";\n        icon.appendChild(star);\n\n        const span = document.createElement(\"span\");\n        span.id = \"icon__reputation\";\n        if (model.reputation !== null && model.reputation !== undefined) {\n          span.textContent = model.reputation.toString();\n        }\n        icon.appendChild(span);\n\n        document.body?.addEventListener(\"click\", (event: MouseEvent) => {\n          if (model.element.open) {\n            toggleReputationList();\n          }\n        });\n      } else {\n        if (model.reputation !== null && model.reputation !== undefined) {\n          shadow.getElementById(\n            \"icon__reputation\",\n          ).textContent = model.reputation.toString();\n        }\n      }\n\n      return icon;\n    }\n\n    function listView() {\n      let list = shadow.getElementById(\"list\");\n      if (!list) {\n        list = document.createElement(\"div\");\n        list.id = \"list\";\n        list.addEventListener(\"click\", (event: MouseEvent) => {\n          event.stopPropagation();\n        });\n      }\n\n      clear(list);\n\n      headerView(list);\n\n      model.reputations.forEach(reputation => {\n        reputationView(list, reputation);\n      });\n\n      return list;\n    }\n\n    function headerView(list: HTMLElement) {\n      const name = document.createElement(\"div\");\n      name.classList.add(\"list__header\");\n      name.textContent = \"Name\";\n      list.appendChild(name);\n\n      const rep = document.createElement(\"div\");\n      rep.classList.add(\"list__header\");\n      rep.textContent = \"Reputation\";\n      list.appendChild(rep);\n    }\n\n    function reputationView(list: HTMLElement, reputation: Reputation) {\n      const name = document.createElement(\"div\");\n      name.classList.add(\"list__name\");\n      name.textContent = `${reputation.name}`;\n      name.title = reputation.description;\n      list.appendChild(name);\n\n      const rep = document.createElement(\"div\");\n      rep.classList.add(\"list__reputation\");\n      rep.textContent = (\n        Math.round(reputation.reputation * 100) / 100\n      ).toString();\n      list.appendChild(rep);\n    }\n\n    function styleView() {\n      const style = document.createElement(\"link\");\n      style.setAttribute(\n        \"href\",\n        window.location.protocol +\n          \"//\" +\n          window.location.host +\n          \"/static/reputation/css/teacher-header.min.css\",\n      );\n      style.setAttribute(\"rel\", \"stylesheet\");\n      style.setAttribute(\"nonce\", model.nonce);\n      return style;\n    }\n\n    /********/\n    /* init */\n    /********/\n\n    view();\n    await update();\n  }\n}\n","\"use strict\";\n\nimport { TeacherReputationHeader } from \"./_header/teacher.js\";\n\nif (!customElements.get(\"teacher-reputation-header\")) {\n  customElements.define(\"teacher-reputation-header\", TeacherReputationHeader);\n}\n"],"names":["getCsrfToken","document","getElementsByName","getAttribute","buildReq","data","method","toLowerCase","toUpperCase","headers","body","JSON","stringify","Error","clear","node","hasChildNodes","removeChild","lastChild","createSvg","name","useSprite","svg","createElementNS","use","setAttributeNS","window","location","protocol","host","append","TeacherReputationHeader","url","type","id","nonce","hasAttribute","val","setAttribute","removeAttribute","shadow","attachShadow","mode","hidden","init","model","parseInt","reputationId","element","reputation","reputationType","reputationUrl","reputations","update","getReputation","postData","reputation_type","req","resp","fetch","json","map","full_name","description","iconView","listView","toggleReputationList","open","view","appendChild","styleView","container","createElement","icon","getElementById","title","addEventListener","event","stopPropagation","star","span","undefined","textContent","toString","list","headerView","forEach","reputationView","classList","add","rep","Math","round","style","HTMLElement","customElements","get","define"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL2FudG9pbmUvZG9jdW1lbnRzL3dvcmsvc2NpdmVyby9wcm9qZWN0cy9kYWxpdGUvZGFsaXRlL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9hamF4LmpzIiwiL2hvbWUvYW50b2luZS9kb2N1bWVudHMvd29yay9zY2l2ZXJvL3Byb2plY3RzL2RhbGl0ZS9kYWxpdGUvcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL3V0aWxzLmpzIiwiL2hvbWUvYW50b2luZS9kb2N1bWVudHMvd29yay9zY2l2ZXJvL3Byb2plY3RzL2RhbGl0ZS9kYWxpdGUvcmVwdXRhdGlvbi9zdGF0aWMvcmVwdXRhdGlvbi9qcy9faGVhZGVyL3RlYWNoZXIuanMiLCIvaG9tZS9hbnRvaW5lL2RvY3VtZW50cy93b3JrL3NjaXZlcm8vcHJvamVjdHMvZGFsaXRlL2RhbGl0ZS9yZXB1dGF0aW9uL3N0YXRpYy9yZXB1dGF0aW9uL2pzL2hlYWRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZ2V0Q3NyZlRva2VuKCkge1xuICByZXR1cm4gZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudHNCeU5hbWUoXCJjc3JmbWlkZGxld2FyZXRva2VuXCIpWzBdXG4gICAgLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRSZXEoZGF0YSwgbWV0aG9kKSB7XG4gIGlmIChtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gXCJnZXRcIikge1xuICAgIHJldHVybiB7XG4gICAgICBtZXRob2Q6IG1ldGhvZC50b1VwcGVyQ2FzZSgpLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJYLUNTUkZUb2tlblwiOiBnZXRDc3JmVG9rZW4oKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIGlmIChtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gXCJwb3N0XCIpIHtcbiAgICBjb25zdCBib2R5ID0gZGF0YSA/IEpTT04uc3RyaW5naWZ5KGRhdGEpIDogXCJcIjtcbiAgICByZXR1cm4ge1xuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGJvZHk6IGJvZHksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtQ1NSRlRva2VuXCI6IGdldENzcmZUb2tlbigpLFxuICAgICAgfSxcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKGBNZXRob2QgJHttZXRob2R9IG5vdCBpbXBsZW1lbnRlZCB5ZXQuYCk7XG4gIH1cbn1cbiIsIi8vIEBmbG93XG5cInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyKG5vZGU6IEhUTUxFbGVtZW50KTogSFRNTEVsZW1lbnQge1xuICB3aGlsZSAobm9kZS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmxhc3RDaGlsZCk7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXREYXRldGltZShkYXRldGltZTogRGF0ZSk6IHN0cmluZyB7XG4gIHJldHVybiAoXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IHllYXI6IFwibnVtZXJpY1wiIH0pICtcbiAgICBcIi1cIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IG1vbnRoOiBcIjItZGlnaXRcIiB9KSArXG4gICAgXCItXCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBkYXk6IFwiMi1kaWdpdFwiIH0pICtcbiAgICBcIiBcIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IGhvdXI6IFwiMi1kaWdpdFwiLCBob3VyMTI6IGZhbHNlIH0pICtcbiAgICBcIjpcIiArXG4gICAgZGF0ZXRpbWUudG9Mb2NhbGVTdHJpbmcoXCJlbi1jYVwiLCB7IG1pbnV0ZTogXCIyLWRpZ2l0XCIgfSlcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN2ZyhuYW1lOiBzdHJpbmcsIHVzZVNwcml0ZTogYm9vbGVhbiA9IHRydWUpOiBFbGVtZW50IHtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gIGNvbnN0IHVzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwidXNlXCIpO1xuICBpZiAodXNlU3ByaXRlKSB7XG4gICAgdXNlLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcImhyZWZcIiwgYCMke25hbWV9YCk7XG4gIH0gZWxzZSB7XG4gICAgdXNlLnNldEF0dHJpYnV0ZU5TKFxuICAgICAgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG4gICAgICBcImhyZWZcIixcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArXG4gICAgICAgIFwiLy9cIiArXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICtcbiAgICAgICAgXCIvc3RhdGljL3BlZXJpbnN0L2ljb25zLnN2ZyNcIiArXG4gICAgICAgIG5hbWUsXG4gICAgKTtcbiAgfVxuICBzdmcuYXBwZW5kKHVzZSk7XG4gIHJldHVybiBzdmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93QWxlcnQobXNnOiBzdHJpbmcpIHtcbiAgY29uc3QgZnVsbFBhZ2VCb3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBmdWxsUGFnZUJveC5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19mdWxsLXBhZ2VcIik7XG4gIGZ1bGxQYWdlQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBmdWxsUGFnZUJveC5wYXJlbnROb2RlPy5yZW1vdmVDaGlsZChmdWxsUGFnZUJveCk7XG4gIH0pO1xuICBkb2N1bWVudC5ib2R5Py5hcHBlbmRDaGlsZChmdWxsUGFnZUJveCk7XG5cbiAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYm94LmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX2JveFwiKTtcbiAgYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksXG4gICk7XG4gIGZ1bGxQYWdlQm94LmFwcGVuZENoaWxkKGJveCk7XG5cbiAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICBzcGFuLmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX21zZ1wiKTtcbiAgc3Bhbi50ZXh0Q29udGVudCA9IG1zZztcbiAgYm94LmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gIGNvbnN0IG9rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgb2suY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fYnRuXCIsIFwibWRjLWJ1dHRvblwiLCBcIm1kYy1idXR0b24tLXVuZWxldmF0ZWRcIik7XG4gIG9rLnRleHRDb250ZW50ID0gXCJPa1wiO1xuICBib3guYXBwZW5kQ2hpbGQob2spO1xufVxuIiwiLy8gQGZsb3dcbmltcG9ydCB7IGJ1aWxkUmVxIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy9hamF4LmpzXCI7XG5pbXBvcnQge1xuICBjbGVhcixcbiAgY3JlYXRlU3ZnLFxufSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vcGVlcmluc3Qvc3RhdGljL3BlZXJpbnN0L2pzL3V0aWxzLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBUZWFjaGVyUmVwdXRhdGlvbkhlYWRlciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgZ2V0IHJlcHV0YXRpb25VcmwoKTogc3RyaW5nIHtcbiAgICBjb25zdCB1cmwgPSB0aGlzLmdldEF0dHJpYnV0ZShcInJlcHV0YXRpb24tdXJsXCIpO1xuICAgIGlmICghdXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIHRlYWNoZXItcmVwdXRhdGlvbi1oZWFkZXIgbmVlZHMgYSBgcmVwdXRhdGlvbi11cmxgIGF0dHJpYnV0ZVwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBnZXQgcmVwdXRhdGlvblR5cGUoKTogc3RyaW5nIHtcbiAgICBjb25zdCB0eXBlID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJyZXB1dGF0aW9uLXR5cGVcIik7XG4gICAgaWYgKCF0eXBlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIHRlYWNoZXItcmVwdXRhdGlvbi1oZWFkZXIgbmVlZHMgYSBgcmVwdXRhdGlvbi10eXBlYCBhdHRyaWJ1dGVcIixcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0eXBlO1xuICB9XG4gIGdldCByZXB1dGF0aW9uSWQoKTogc3RyaW5nIHtcbiAgICBjb25zdCBpZCA9IHRoaXMuZ2V0QXR0cmlidXRlKFwicmVwdXRhdGlvbi1pZFwiKTtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIHRlYWNoZXItcmVwdXRhdGlvbi1oZWFkZXIgbmVlZHMgYSBgcmVwdXRhdGlvbi1pZGAgYXR0cmlidXRlXCIsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgZ2V0IG5vbmNlXygpOiBzdHJpbmcge1xuICAgIGNvbnN0IG5vbmNlID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJub25jZVwiKSB8fCB0aGlzLm5vbmNlO1xuICAgIGlmICghbm9uY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgdGVhY2hlci1yZXB1dGF0aW9uLWhlYWRlciBuZWVkcyBhIGBub25jZWAgYXR0cmlidXRlXCIsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbm9uY2U7XG4gIH1cbiAgZ2V0IGhpZGRlbigpIHtcbiAgICByZXR1cm4gdGhpcy5oYXNBdHRyaWJ1dGUoXCJoaWRkZW5cIik7XG4gIH1cbiAgZ2V0IG9wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwib3BlblwiKTtcbiAgfVxuICBzZXQgaGlkZGVuKHZhbDogYm9vbGVhbikge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKTtcbiAgICB9XG4gIH1cbiAgc2V0IG9wZW4odmFsOiBib29sZWFuKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJvcGVuXCIsIFwiXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShcIm9wZW5cIik7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogXCJvcGVuXCIgfSk7XG5cbiAgICB0aGlzLmhpZGRlbiA9IHRydWU7XG5cbiAgICB0aGlzLmluaXQoc2hhZG93KTtcbiAgfVxuXG4gIGFzeW5jIGluaXQoc2hhZG93OiBTaGFkb3dSb290KSB7XG4gICAgLyoqKioqKioqKi9cbiAgICAvKiBtb2RlbCAqL1xuICAgIC8qKioqKioqKiovXG5cbiAgICB0eXBlIFJlcHV0YXRpb24gPSB7XG4gICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICBkZXNjcmlwdGlvbjogc3RyaW5nLFxuICAgICAgcmVwdXRhdGlvbjogbnVtYmVyLFxuICAgIH07XG5cbiAgICB0eXBlIE1vZGVsID0ge1xuICAgICAgaWQ6IG51bWJlcixcbiAgICAgIGVsZW1lbnQ6IFRlYWNoZXJSZXB1dGF0aW9uSGVhZGVyLFxuICAgICAgcmVwdXRhdGlvbjogP251bWJlcixcbiAgICAgIHJlcHV0YXRpb25UeXBlOiBzdHJpbmcsXG4gICAgICByZXB1dGF0aW9uVXJsOiBzdHJpbmcsXG4gICAgICByZXB1dGF0aW9uczogQXJyYXk8UmVwdXRhdGlvbj4sXG4gICAgICBzaGFkb3c6IFNoYWRvd1Jvb3QsXG4gICAgfTtcblxuICAgIGNvbnN0IG1vZGVsOiBNb2RlbCA9IHtcbiAgICAgIGlkOiBwYXJzZUludCh0aGlzLnJlcHV0YXRpb25JZCksXG4gICAgICBlbGVtZW50OiB0aGlzLFxuICAgICAgcmVwdXRhdGlvbjogbnVsbCxcbiAgICAgIHJlcHV0YXRpb25UeXBlOiB0aGlzLnJlcHV0YXRpb25UeXBlLFxuICAgICAgcmVwdXRhdGlvblVybDogdGhpcy5yZXB1dGF0aW9uVXJsLFxuICAgICAgcmVwdXRhdGlvbnM6IFtdLFxuICAgICAgc2hhZG93OiBzaGFkb3csXG4gICAgfTtcblxuICAgIC8qKioqKioqKioqL1xuICAgIC8qIHVwZGF0ZSAqL1xuICAgIC8qKioqKioqKioqL1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgYXdhaXQgZ2V0UmVwdXRhdGlvbigpO1xuICAgICAgaWYgKG1vZGVsLnJlcHV0YXRpb24gIT09IG51bGwpIHtcbiAgICAgICAgbW9kZWwuZWxlbWVudC5oaWRkZW4gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiBnZXRSZXB1dGF0aW9uKCkge1xuICAgICAgY29uc3QgcG9zdERhdGEgPSB7XG4gICAgICAgIHJlcHV0YXRpb25fdHlwZTogbW9kZWwucmVwdXRhdGlvblR5cGUsXG4gICAgICAgIGlkOiBtb2RlbC5pZCxcbiAgICAgIH07XG4gICAgICBjb25zdCByZXEgPSBidWlsZFJlcShwb3N0RGF0YSwgXCJwb3N0XCIpO1xuICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKG1vZGVsLnJlcHV0YXRpb25VcmwsIHJlcSk7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgICBtb2RlbC5yZXB1dGF0aW9uID0gZGF0YS5yZXB1dGF0aW9uO1xuICAgICAgbW9kZWwucmVwdXRhdGlvbnMgPSBkYXRhLnJlcHV0YXRpb25zLm1hcChyZXB1dGF0aW9uID0+ICh7XG4gICAgICAgIG5hbWU6IHJlcHV0YXRpb24uZnVsbF9uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogcmVwdXRhdGlvbi5kZXNjcmlwdGlvbixcbiAgICAgICAgcmVwdXRhdGlvbjogcmVwdXRhdGlvbi5yZXB1dGF0aW9uLFxuICAgICAgfSkpO1xuICAgICAgaWNvblZpZXcoKTtcbiAgICAgIGxpc3RWaWV3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9nZ2xlUmVwdXRhdGlvbkxpc3QoKSB7XG4gICAgICBtb2RlbC5lbGVtZW50Lm9wZW4gPSAhbW9kZWwuZWxlbWVudC5vcGVuO1xuICAgICAgaWNvblZpZXcoKTtcbiAgICAgIGxpc3RWaWV3KCk7XG4gICAgfVxuXG4gICAgLyoqKioqKioqL1xuICAgIC8qIHZpZXcgKi9cbiAgICAvKioqKioqKiovXG5cbiAgICBmdW5jdGlvbiB2aWV3KCkge1xuICAgICAgc2hhZG93LmFwcGVuZENoaWxkKHN0eWxlVmlldygpKTtcblxuICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbnRhaW5lci5pZCA9IFwiY29udGFpbmVyXCI7XG4gICAgICBzaGFkb3cuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGljb25WaWV3KCkpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RWaWV3KCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGljb25WaWV3KCkge1xuICAgICAgbGV0IGljb24gPSBzaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJpY29uXCIpO1xuXG4gICAgICBpZiAoIWljb24pIHtcbiAgICAgICAgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGljb24uaWQgPSBcImljb25cIjtcbiAgICAgICAgaWNvbi50aXRsZSA9IFwiUmVwdXRhdGlvblwiO1xuICAgICAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB0b2dnbGVSZXB1dGF0aW9uTGlzdCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBzdGFyID0gY3JlYXRlU3ZnKFwic3RhclwiLCBmYWxzZSk7XG4gICAgICAgIHN0YXIuaWQgPSBcImljb25fX2ljb25cIjtcbiAgICAgICAgaWNvbi5hcHBlbmRDaGlsZChzdGFyKTtcblxuICAgICAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHNwYW4uaWQgPSBcImljb25fX3JlcHV0YXRpb25cIjtcbiAgICAgICAgaWYgKG1vZGVsLnJlcHV0YXRpb24gIT09IG51bGwgJiYgbW9kZWwucmVwdXRhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9IG1vZGVsLnJlcHV0YXRpb24udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBpY29uLmFwcGVuZENoaWxkKHNwYW4pO1xuXG4gICAgICAgIGRvY3VtZW50LmJvZHk/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAobW9kZWwuZWxlbWVudC5vcGVuKSB7XG4gICAgICAgICAgICB0b2dnbGVSZXB1dGF0aW9uTGlzdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobW9kZWwucmVwdXRhdGlvbiAhPT0gbnVsbCAmJiBtb2RlbC5yZXB1dGF0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICBcImljb25fX3JlcHV0YXRpb25cIixcbiAgICAgICAgICApLnRleHRDb250ZW50ID0gbW9kZWwucmVwdXRhdGlvbi50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpY29uO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RWaWV3KCkge1xuICAgICAgbGV0IGxpc3QgPSBzaGFkb3cuZ2V0RWxlbWVudEJ5SWQoXCJsaXN0XCIpO1xuICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgIGxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBsaXN0LmlkID0gXCJsaXN0XCI7XG4gICAgICAgIGxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY2xlYXIobGlzdCk7XG5cbiAgICAgIGhlYWRlclZpZXcobGlzdCk7XG5cbiAgICAgIG1vZGVsLnJlcHV0YXRpb25zLmZvckVhY2gocmVwdXRhdGlvbiA9PiB7XG4gICAgICAgIHJlcHV0YXRpb25WaWV3KGxpc3QsIHJlcHV0YXRpb24pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhlYWRlclZpZXcobGlzdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgbmFtZS5jbGFzc0xpc3QuYWRkKFwibGlzdF9faGVhZGVyXCIpO1xuICAgICAgbmFtZS50ZXh0Q29udGVudCA9IFwiTmFtZVwiO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgICAgY29uc3QgcmVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJlcC5jbGFzc0xpc3QuYWRkKFwibGlzdF9faGVhZGVyXCIpO1xuICAgICAgcmVwLnRleHRDb250ZW50ID0gXCJSZXB1dGF0aW9uXCI7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKHJlcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVwdXRhdGlvblZpZXcobGlzdDogSFRNTEVsZW1lbnQsIHJlcHV0YXRpb246IFJlcHV0YXRpb24pIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgbmFtZS5jbGFzc0xpc3QuYWRkKFwibGlzdF9fbmFtZVwiKTtcbiAgICAgIG5hbWUudGV4dENvbnRlbnQgPSBgJHtyZXB1dGF0aW9uLm5hbWV9YDtcbiAgICAgIG5hbWUudGl0bGUgPSByZXB1dGF0aW9uLmRlc2NyaXB0aW9uO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgICAgY29uc3QgcmVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJlcC5jbGFzc0xpc3QuYWRkKFwibGlzdF9fcmVwdXRhdGlvblwiKTtcbiAgICAgIHJlcC50ZXh0Q29udGVudCA9IChcbiAgICAgICAgTWF0aC5yb3VuZChyZXB1dGF0aW9uLnJlcHV0YXRpb24gKiAxMDApIC8gMTAwXG4gICAgICApLnRvU3RyaW5nKCk7XG4gICAgICBsaXN0LmFwcGVuZENoaWxkKHJlcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3R5bGVWaWV3KCkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcbiAgICAgICAgXCJocmVmXCIsXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArXG4gICAgICAgICAgXCIvL1wiICtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdCArXG4gICAgICAgICAgXCIvc3RhdGljL3JlcHV0YXRpb24vY3NzL3RlYWNoZXItaGVhZGVyLm1pbi5jc3NcIixcbiAgICAgICk7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJyZWxcIiwgXCJzdHlsZXNoZWV0XCIpO1xuICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbW9kZWwubm9uY2UpO1xuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cblxuICAgIC8qKioqKioqKi9cbiAgICAvKiBpbml0ICovXG4gICAgLyoqKioqKioqL1xuXG4gICAgdmlldygpO1xuICAgIGF3YWl0IHVwZGF0ZSgpO1xuICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuaW1wb3J0IHsgVGVhY2hlclJlcHV0YXRpb25IZWFkZXIgfSBmcm9tIFwiLi9faGVhZGVyL3RlYWNoZXIuanNcIjtcblxuaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoXCJ0ZWFjaGVyLXJlcHV0YXRpb24taGVhZGVyXCIpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInRlYWNoZXItcmVwdXRhdGlvbi1oZWFkZXJcIiwgVGVhY2hlclJlcHV0YXRpb25IZWFkZXIpO1xufVxuIl0sIm5hbWVzIjpbImdldENzcmZUb2tlbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJidWlsZFJlcSIsImRhdGEiLCJtZXRob2QiLCJ0b0xvd2VyQ2FzZSIsInRvVXBwZXJDYXNlIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiRXJyb3IiLCJjbGVhciIsIm5vZGUiLCJoYXNDaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJsYXN0Q2hpbGQiLCJjcmVhdGVTdmciLCJuYW1lIiwidXNlU3ByaXRlIiwic3ZnIiwiY3JlYXRlRWxlbWVudE5TIiwidXNlIiwic2V0QXR0cmlidXRlTlMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInByb3RvY29sIiwiaG9zdCIsImFwcGVuZCIsIlRlYWNoZXJSZXB1dGF0aW9uSGVhZGVyIiwidXJsIiwidHlwZSIsImlkIiwibm9uY2UiLCJoYXNBdHRyaWJ1dGUiLCJ2YWwiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzaGFkb3ciLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiaGlkZGVuIiwiaW5pdCIsIm1vZGVsIiwicGFyc2VJbnQiLCJyZXB1dGF0aW9uSWQiLCJlbGVtZW50IiwicmVwdXRhdGlvbiIsInJlcHV0YXRpb25UeXBlIiwicmVwdXRhdGlvblVybCIsInJlcHV0YXRpb25zIiwidXBkYXRlIiwiZ2V0UmVwdXRhdGlvbiIsInBvc3REYXRhIiwicmVwdXRhdGlvbl90eXBlIiwicmVxIiwicmVzcCIsImZldGNoIiwianNvbiIsIm1hcCIsImZ1bGxfbmFtZSIsImRlc2NyaXB0aW9uIiwiaWNvblZpZXciLCJsaXN0VmlldyIsInRvZ2dsZVJlcHV0YXRpb25MaXN0Iiwib3BlbiIsInZpZXciLCJhcHBlbmRDaGlsZCIsInN0eWxlVmlldyIsImNvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJpY29uIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsInN0YXIiLCJzcGFuIiwidW5kZWZpbmVkIiwidGV4dENvbnRlbnQiLCJ0b1N0cmluZyIsImxpc3QiLCJoZWFkZXJWaWV3IiwiZm9yRWFjaCIsInJlcHV0YXRpb25WaWV3IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVwIiwiTWF0aCIsInJvdW5kIiwic3R5bGUiLCJIVE1MRWxlbWVudCIsImN1c3RvbUVsZW1lbnRzIiwiZ2V0IiwiZGVmaW5lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQU8sU0FBU0EsWUFBVCxHQUF3QjtTQUN0QkMsUUFBUSxDQUNaQyxpQkFESSxDQUNjLHFCQURkLEVBQ3FDLENBRHJDLEVBRUpDLFlBRkksQ0FFUyxPQUZULENBQVA7O0FBS0YsQUFBTyxTQUFTQyxRQUFULENBQWtCQyxJQUFsQixFQUF3QkMsTUFBeEIsRUFBZ0M7TUFDakNBLE1BQU0sQ0FBQ0MsV0FBUCxPQUF5QixLQUE3QixFQUFvQztXQUMzQjtNQUNMRCxNQUFNLEVBQUVBLE1BQU0sQ0FBQ0UsV0FBUCxFQURIO01BRUxDLE9BQU8sRUFBRTt3QkFDUyxrQkFEVDt1QkFFUVQsWUFBWTs7S0FKL0I7R0FERixNQVFPLElBQUlNLE1BQU0sQ0FBQ0MsV0FBUCxPQUF5QixNQUE3QixFQUFxQztRQUNwQ0csSUFBSSxHQUFHTCxJQUFJLEdBQUdNLElBQUksQ0FBQ0MsU0FBTCxDQUFlUCxJQUFmLENBQUgsR0FBMEIsRUFBM0M7V0FDTztNQUNMQyxNQUFNLEVBQUVBLE1BQU0sQ0FBQ0UsV0FBUCxFQURIO01BRUxFLElBQUksRUFBRUEsSUFGRDtNQUdMRCxPQUFPLEVBQUU7d0JBQ1Msa0JBRFQ7dUJBRVFULFlBQVk7O0tBTC9CO0dBRkssTUFVQTtV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"}
=======
{"version":3,"file":"header.min.js","sources":["peerinst/static/peerinst/js/ajax.js","peerinst/static/peerinst/js/utils.js","reputation/static/reputation/js/_header/teacher.js","reputation/static/reputation/js/header.js"],"sourcesContent":["export function getCsrfToken() {\n  return document\n    .getElementsByName(\"csrfmiddlewaretoken\")[0]\n    .getAttribute(\"value\");\n}\n\nexport function buildReq(data, method) {\n  if (method.toLowerCase() === \"get\") {\n    return {\n      method: method.toUpperCase(),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else if (method.toLowerCase() === \"post\") {\n    const body = data ? JSON.stringify(data) : \"\";\n    return {\n      method: method.toUpperCase(),\n      body: body,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCsrfToken(),\n      },\n    };\n  } else {\n    throw Error(`Method ${method} not implemented yet.`);\n  }\n}\n","// @flow\n\"use strict\";\n\nexport function clear(node: HTMLElement): HTMLElement {\n  while (node.hasChildNodes()) {\n    // $FlowFixMe\n    node.removeChild(node.lastChild);\n  }\n  return node;\n}\n\nexport function formatDatetime(datetime: Date): string {\n  return (\n    datetime.toLocaleString(\"en-ca\", { year: \"numeric\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { month: \"2-digit\" }) +\n    \"-\" +\n    datetime.toLocaleString(\"en-ca\", { day: \"2-digit\" }) +\n    \" \" +\n    datetime.toLocaleString(\"en-ca\", { hour: \"2-digit\", hour12: false }) +\n    \":\" +\n    datetime.toLocaleString(\"en-ca\", { minute: \"2-digit\" })\n  );\n}\n\nexport function createSvg(name: string, useSprite: boolean = true): Element {\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  const use = document.createElementNS(\"http://www.w3.org/2000/svg\", \"use\");\n  if (useSprite) {\n    use.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", `#${name}`);\n  } else {\n    use.setAttributeNS(\n      \"http://www.w3.org/1999/xlink\",\n      \"href\",\n      window.location.protocol +\n        \"//\" +\n        window.location.host +\n        \"/static/peerinst/icons.svg#\" +\n        name,\n    );\n  }\n  svg.append(use);\n  return svg;\n}\n\nexport function showAlert(msg: string) {\n  const fullPageBox = document.createElement(\"div\");\n  fullPageBox.classList.add(\"alert-box__full-page\");\n  fullPageBox.addEventListener(\"click\", (event: MouseEvent) => {\n    event.stopPropagation();\n    fullPageBox.parentNode?.removeChild(fullPageBox);\n  });\n  document.body?.appendChild(fullPageBox);\n\n  const box = document.createElement(\"div\");\n  box.classList.add(\"alert-box__box\");\n  box.addEventListener(\"click\", (event: MouseEvent) =>\n    event.stopPropagation(),\n  );\n  fullPageBox.appendChild(box);\n\n  const span = document.createElement(\"span\");\n  span.classList.add(\"alert-box__msg\");\n  span.textContent = msg;\n  box.appendChild(span);\n\n  const ok = document.createElement(\"button\");\n  ok.classList.add(\"alert-box__btn\", \"mdc-button\", \"mdc-button--unelevated\");\n  ok.textContent = \"Ok\";\n  box.appendChild(ok);\n}\n","// @flow\nimport { buildReq } from \"../../../../../peerinst/static/peerinst/js/ajax.js\";\nimport {\n  clear,\n  createSvg,\n} from \"../../../../../peerinst/static/peerinst/js/utils.js\";\n\nexport class TeacherReputationHeader extends HTMLElement {\n  get reputationUrl(): string {\n    const url = this.getAttribute(\"reputation-url\");\n    if (!url) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `reputation-url` attribute\",\n      );\n    }\n    return url;\n  }\n  get reputationType(): string {\n    const type = this.getAttribute(\"reputation-type\");\n    if (!type) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `reputation-type` attribute\",\n      );\n    }\n    return type;\n  }\n  get reputationId(): string {\n    const id = this.getAttribute(\"reputation-id\");\n    if (!id) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `reputation-id` attribute\",\n      );\n    }\n    return id;\n  }\n  get nonce_(): string {\n    const nonce = this.getAttribute(\"nonce\") || this.nonce;\n    if (!nonce) {\n      throw new Error(\n        \"The teacher-reputation-header needs a `nonce` attribute\",\n      );\n    }\n    return nonce;\n  }\n  get hidden() {\n    return this.hasAttribute(\"hidden\");\n  }\n  get open() {\n    return this.hasAttribute(\"open\");\n  }\n  set hidden(val: boolean) {\n    if (val) {\n      this.setAttribute(\"hidden\", \"\");\n    } else {\n      this.removeAttribute(\"hidden\");\n    }\n  }\n  set open(val: boolean) {\n    if (val) {\n      this.setAttribute(\"open\", \"\");\n    } else {\n      this.removeAttribute(\"open\");\n    }\n  }\n\n  constructor() {\n    super();\n\n    const shadow = this.attachShadow({ mode: \"open\" });\n\n    this.hidden = true;\n\n    this.init(shadow);\n  }\n\n  async init(shadow: ShadowRoot) {\n    /*********/\n    /* model */\n    /*********/\n\n    type Reputation = {\n      name: string,\n      description: string,\n      reputation: number,\n    };\n\n    type Model = {\n      id: number,\n      element: TeacherReputationHeader,\n      reputation: ?number,\n      reputationType: string,\n      reputationUrl: string,\n      reputations: Array<Reputation>,\n      shadow: ShadowRoot,\n    };\n\n    const model: Model = {\n      id: parseInt(this.reputationId),\n      element: this,\n      reputation: null,\n      reputationType: this.reputationType,\n      reputationUrl: this.reputationUrl,\n      reputations: [],\n      shadow: shadow,\n    };\n\n    /**********/\n    /* update */\n    /**********/\n\n    async function update() {\n      await getReputation();\n      if (model.reputation !== null) {\n        model.element.hidden = false;\n      }\n    }\n\n    async function getReputation() {\n      const postData = {\n        reputation_type: model.reputationType,\n        id: model.id,\n      };\n      const req = buildReq(postData, \"post\");\n      const resp = await fetch(model.reputationUrl, req);\n      const data = await resp.json();\n      model.reputation = data.reputation;\n      model.reputations = data.reputations.map(reputation => ({\n        name: reputation.full_name,\n        description: reputation.description,\n        reputation: reputation.reputation,\n      }));\n      iconView();\n      listView();\n    }\n\n    function toggleReputationList() {\n      model.element.open = !model.element.open;\n      iconView();\n      listView();\n    }\n\n    /********/\n    /* view */\n    /********/\n\n    function view() {\n      shadow.appendChild(styleView());\n\n      const container = document.createElement(\"div\");\n      container.id = \"container\";\n      shadow.appendChild(container);\n\n      container.appendChild(iconView());\n      container.appendChild(listView());\n    }\n\n    function iconView() {\n      let icon = shadow.getElementById(\"icon\");\n\n      if (!icon) {\n        icon = document.createElement(\"div\");\n        icon.id = \"icon\";\n        icon.title = \"Reputation\";\n        icon.addEventListener(\"click\", (event: MouseEvent) => {\n          event.stopPropagation();\n          toggleReputationList();\n        });\n\n        const star = createSvg(\"star\", false);\n        star.id = \"icon__icon\";\n        icon.appendChild(star);\n\n        const span = document.createElement(\"span\");\n        span.id = \"icon__reputation\";\n        if (model.reputation !== null && model.reputation !== undefined) {\n          span.textContent = model.reputation.toString();\n        }\n        icon.appendChild(span);\n\n        document.body?.addEventListener(\"click\", (event: MouseEvent) => {\n          if (model.element.open) {\n            toggleReputationList();\n          }\n        });\n      } else {\n        if (model.reputation !== null && model.reputation !== undefined) {\n          shadow.getElementById(\n            \"icon__reputation\",\n          ).textContent = model.reputation.toString();\n        }\n      }\n\n      return icon;\n    }\n\n    function listView() {\n      let list = shadow.getElementById(\"list\");\n      if (!list) {\n        list = document.createElement(\"div\");\n        list.id = \"list\";\n        list.addEventListener(\"click\", (event: MouseEvent) => {\n          event.stopPropagation();\n        });\n      }\n\n      clear(list);\n\n      headerView(list);\n\n      model.reputations.forEach(reputation => {\n        reputationView(list, reputation);\n      });\n\n      return list;\n    }\n\n    function headerView(list: HTMLElement) {\n      const name = document.createElement(\"div\");\n      name.classList.add(\"list__header\");\n      name.textContent = \"Name\";\n      list.appendChild(name);\n\n      const rep = document.createElement(\"div\");\n      rep.classList.add(\"list__header\");\n      rep.textContent = \"Reputation\";\n      list.appendChild(rep);\n    }\n\n    function reputationView(list: HTMLElement, reputation: Reputation) {\n      const name = document.createElement(\"div\");\n      name.classList.add(\"list__name\");\n      name.textContent = `${reputation.name}`;\n      name.title = reputation.description;\n      list.appendChild(name);\n\n      const rep = document.createElement(\"div\");\n      rep.classList.add(\"list__reputation\");\n      rep.textContent = (\n        Math.round(reputation.reputation * 100) / 100\n      ).toString();\n      list.appendChild(rep);\n    }\n\n    function styleView() {\n      const style = document.createElement(\"link\");\n      style.setAttribute(\n        \"href\",\n        window.location.protocol +\n          \"//\" +\n          window.location.host +\n          \"/static/reputation/css/teacher-header.min.css\",\n      );\n      style.setAttribute(\"rel\", \"stylesheet\");\n      style.setAttribute(\"nonce\", model.nonce);\n      return style;\n    }\n\n    /********/\n    /* init */\n    /********/\n\n    view();\n    await update();\n  }\n}\n","\"use strict\";\n\nimport { TeacherReputationHeader } from \"./_header/teacher.js\";\n\nif (!customElements.get(\"teacher-reputation-header\")) {\n  customElements.define(\"teacher-reputation-header\", TeacherReputationHeader);\n}\n"],"names":["getCsrfToken","document","getElementsByName","getAttribute","buildReq","data","method","toLowerCase","toUpperCase","headers","body","JSON","stringify","Error","clear","node","hasChildNodes","removeChild","lastChild","createSvg","name","useSprite","svg","createElementNS","use","setAttributeNS","window","location","protocol","host","append","TeacherReputationHeader","url","type","id","nonce","hasAttribute","val","setAttribute","removeAttribute","shadow","attachShadow","mode","hidden","init","model","parseInt","reputationId","element","reputation","reputationType","reputationUrl","reputations","update","getReputation","postData","reputation_type","req","resp","fetch","json","map","full_name","description","iconView","listView","toggleReputationList","open","view","appendChild","styleView","container","createElement","icon","getElementById","title","addEventListener","event","stopPropagation","star","span","undefined","textContent","toString","list","headerView","forEach","reputationView","classList","add","rep","Math","round","style","HTMLElement","customElements","get","define"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9hYWhpbGdlcnQvRGVza3RvcC9EZXZlbG9wbWVudC9teWRhbGl0ZSBwcm9qZWN0L2RhbGl0ZS1uZy9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvYWpheC5qcyIsIi9Vc2Vycy9hYWhpbGdlcnQvRGVza3RvcC9EZXZlbG9wbWVudC9teWRhbGl0ZSBwcm9qZWN0L2RhbGl0ZS1uZy9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvdXRpbHMuanMiLCIvVXNlcnMvYWFoaWxnZXJ0L0Rlc2t0b3AvRGV2ZWxvcG1lbnQvbXlkYWxpdGUgcHJvamVjdC9kYWxpdGUtbmcvcmVwdXRhdGlvbi9zdGF0aWMvcmVwdXRhdGlvbi9qcy9faGVhZGVyL3RlYWNoZXIuanMiLCIvVXNlcnMvYWFoaWxnZXJ0L0Rlc2t0b3AvRGV2ZWxvcG1lbnQvbXlkYWxpdGUgcHJvamVjdC9kYWxpdGUtbmcvcmVwdXRhdGlvbi9zdGF0aWMvcmVwdXRhdGlvbi9qcy9oZWFkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldENzcmZUb2tlbigpIHtcbiAgcmV0dXJuIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRzQnlOYW1lKFwiY3NyZm1pZGRsZXdhcmV0b2tlblwiKVswXVxuICAgIC5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUmVxKGRhdGEsIG1ldGhvZCkge1xuICBpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09IFwiZ2V0XCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIFwiWC1DU1JGVG9rZW5cIjogZ2V0Q3NyZlRva2VuKCksXG4gICAgICB9LFxuICAgIH07XG4gIH0gZWxzZSBpZiAobWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09IFwicG9zdFwiKSB7XG4gICAgY29uc3QgYm9keSA9IGRhdGEgPyBKU09OLnN0cmluZ2lmeShkYXRhKSA6IFwiXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBib2R5OiBib2R5LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJYLUNTUkZUb2tlblwiOiBnZXRDc3JmVG9rZW4oKSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBFcnJvcihgTWV0aG9kICR7bWV0aG9kfSBub3QgaW1wbGVtZW50ZWQgeWV0LmApO1xuICB9XG59XG4iLCIvLyBAZmxvd1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihub2RlOiBIVE1MRWxlbWVudCk6IEhUTUxFbGVtZW50IHtcbiAgd2hpbGUgKG5vZGUuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgLy8gJEZsb3dGaXhNZVxuICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5sYXN0Q2hpbGQpO1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RGF0ZXRpbWUoZGF0ZXRpbWU6IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyB5ZWFyOiBcIm51bWVyaWNcIiB9KSArXG4gICAgXCItXCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBtb250aDogXCIyLWRpZ2l0XCIgfSkgK1xuICAgIFwiLVwiICtcbiAgICBkYXRldGltZS50b0xvY2FsZVN0cmluZyhcImVuLWNhXCIsIHsgZGF5OiBcIjItZGlnaXRcIiB9KSArXG4gICAgXCIgXCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBob3VyOiBcIjItZGlnaXRcIiwgaG91cjEyOiBmYWxzZSB9KSArXG4gICAgXCI6XCIgK1xuICAgIGRhdGV0aW1lLnRvTG9jYWxlU3RyaW5nKFwiZW4tY2FcIiwgeyBtaW51dGU6IFwiMi1kaWdpdFwiIH0pXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdmcobmFtZTogc3RyaW5nLCB1c2VTcHJpdGU6IGJvb2xlYW4gPSB0cnVlKTogRWxlbWVudCB7XG4gIGNvbnN0IHN2ZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpO1xuICBjb25zdCB1c2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInVzZVwiKTtcbiAgaWYgKHVzZVNwcml0ZSkge1xuICAgIHVzZS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwgXCJocmVmXCIsIGAjJHtuYW1lfWApO1xuICB9IGVsc2Uge1xuICAgIHVzZS5zZXRBdHRyaWJ1dGVOUyhcbiAgICAgIFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgXCJocmVmXCIsXG4gICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgK1xuICAgICAgICBcIi8vXCIgK1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdCArXG4gICAgICAgIFwiL3N0YXRpYy9wZWVyaW5zdC9pY29ucy5zdmcjXCIgK1xuICAgICAgICBuYW1lLFxuICAgICk7XG4gIH1cbiAgc3ZnLmFwcGVuZCh1c2UpO1xuICByZXR1cm4gc3ZnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hvd0FsZXJ0KG1zZzogc3RyaW5nKSB7XG4gIGNvbnN0IGZ1bGxQYWdlQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZnVsbFBhZ2VCb3guY2xhc3NMaXN0LmFkZChcImFsZXJ0LWJveF9fZnVsbC1wYWdlXCIpO1xuICBmdWxsUGFnZUJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZnVsbFBhZ2VCb3gucGFyZW50Tm9kZT8ucmVtb3ZlQ2hpbGQoZnVsbFBhZ2VCb3gpO1xuICB9KTtcbiAgZG9jdW1lbnQuYm9keT8uYXBwZW5kQ2hpbGQoZnVsbFBhZ2VCb3gpO1xuXG4gIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGJveC5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19ib3hcIik7XG4gIGJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PlxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpLFxuICApO1xuICBmdWxsUGFnZUJveC5hcHBlbmRDaGlsZChib3gpO1xuXG4gIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgc3Bhbi5jbGFzc0xpc3QuYWRkKFwiYWxlcnQtYm94X19tc2dcIik7XG4gIHNwYW4udGV4dENvbnRlbnQgPSBtc2c7XG4gIGJveC5hcHBlbmRDaGlsZChzcGFuKTtcblxuICBjb25zdCBvayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIG9rLmNsYXNzTGlzdC5hZGQoXCJhbGVydC1ib3hfX2J0blwiLCBcIm1kYy1idXR0b25cIiwgXCJtZGMtYnV0dG9uLS11bmVsZXZhdGVkXCIpO1xuICBvay50ZXh0Q29udGVudCA9IFwiT2tcIjtcbiAgYm94LmFwcGVuZENoaWxkKG9rKTtcbn1cbiIsIi8vIEBmbG93XG5pbXBvcnQgeyBidWlsZFJlcSB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi9wZWVyaW5zdC9zdGF0aWMvcGVlcmluc3QvanMvYWpheC5qc1wiO1xuaW1wb3J0IHtcbiAgY2xlYXIsXG4gIGNyZWF0ZVN2Zyxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3BlZXJpbnN0L3N0YXRpYy9wZWVyaW5zdC9qcy91dGlscy5qc1wiO1xuXG5leHBvcnQgY2xhc3MgVGVhY2hlclJlcHV0YXRpb25IZWFkZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGdldCByZXB1dGF0aW9uVXJsKCk6IHN0cmluZyB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJyZXB1dGF0aW9uLXVybFwiKTtcbiAgICBpZiAoIXVybCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSB0ZWFjaGVyLXJlcHV0YXRpb24taGVhZGVyIG5lZWRzIGEgYHJlcHV0YXRpb24tdXJsYCBhdHRyaWJ1dGVcIixcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgZ2V0IHJlcHV0YXRpb25UeXBlKCk6IHN0cmluZyB7XG4gICAgY29uc3QgdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwicmVwdXRhdGlvbi10eXBlXCIpO1xuICAgIGlmICghdHlwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSB0ZWFjaGVyLXJlcHV0YXRpb24taGVhZGVyIG5lZWRzIGEgYHJlcHV0YXRpb24tdHlwZWAgYXR0cmlidXRlXCIsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuICBnZXQgcmVwdXRhdGlvbklkKCk6IHN0cmluZyB7XG4gICAgY29uc3QgaWQgPSB0aGlzLmdldEF0dHJpYnV0ZShcInJlcHV0YXRpb24taWRcIik7XG4gICAgaWYgKCFpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSB0ZWFjaGVyLXJlcHV0YXRpb24taGVhZGVyIG5lZWRzIGEgYHJlcHV0YXRpb24taWRgIGF0dHJpYnV0ZVwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkO1xuICB9XG4gIGdldCBub25jZV8oKTogc3RyaW5nIHtcbiAgICBjb25zdCBub25jZSA9IHRoaXMuZ2V0QXR0cmlidXRlKFwibm9uY2VcIikgfHwgdGhpcy5ub25jZTtcbiAgICBpZiAoIW5vbmNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIHRlYWNoZXItcmVwdXRhdGlvbi1oZWFkZXIgbmVlZHMgYSBgbm9uY2VgIGF0dHJpYnV0ZVwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vbmNlO1xuICB9XG4gIGdldCBoaWRkZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwiaGlkZGVuXCIpO1xuICB9XG4gIGdldCBvcGVuKCkge1xuICAgIHJldHVybiB0aGlzLmhhc0F0dHJpYnV0ZShcIm9wZW5cIik7XG4gIH1cbiAgc2V0IGhpZGRlbih2YWw6IGJvb2xlYW4pIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJoaWRkZW5cIik7XG4gICAgfVxuICB9XG4gIHNldCBvcGVuKHZhbDogYm9vbGVhbikge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwib3BlblwiLCBcIlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJvcGVuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBzaGFkb3cgPSB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6IFwib3BlblwiIH0pO1xuXG4gICAgdGhpcy5oaWRkZW4gPSB0cnVlO1xuXG4gICAgdGhpcy5pbml0KHNoYWRvdyk7XG4gIH1cblxuICBhc3luYyBpbml0KHNoYWRvdzogU2hhZG93Um9vdCkge1xuICAgIC8qKioqKioqKiovXG4gICAgLyogbW9kZWwgKi9cbiAgICAvKioqKioqKioqL1xuXG4gICAgdHlwZSBSZXB1dGF0aW9uID0ge1xuICAgICAgbmFtZTogc3RyaW5nLFxuICAgICAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgICAgIHJlcHV0YXRpb246IG51bWJlcixcbiAgICB9O1xuXG4gICAgdHlwZSBNb2RlbCA9IHtcbiAgICAgIGlkOiBudW1iZXIsXG4gICAgICBlbGVtZW50OiBUZWFjaGVyUmVwdXRhdGlvbkhlYWRlcixcbiAgICAgIHJlcHV0YXRpb246ID9udW1iZXIsXG4gICAgICByZXB1dGF0aW9uVHlwZTogc3RyaW5nLFxuICAgICAgcmVwdXRhdGlvblVybDogc3RyaW5nLFxuICAgICAgcmVwdXRhdGlvbnM6IEFycmF5PFJlcHV0YXRpb24+LFxuICAgICAgc2hhZG93OiBTaGFkb3dSb290LFxuICAgIH07XG5cbiAgICBjb25zdCBtb2RlbDogTW9kZWwgPSB7XG4gICAgICBpZDogcGFyc2VJbnQodGhpcy5yZXB1dGF0aW9uSWQpLFxuICAgICAgZWxlbWVudDogdGhpcyxcbiAgICAgIHJlcHV0YXRpb246IG51bGwsXG4gICAgICByZXB1dGF0aW9uVHlwZTogdGhpcy5yZXB1dGF0aW9uVHlwZSxcbiAgICAgIHJlcHV0YXRpb25Vcmw6IHRoaXMucmVwdXRhdGlvblVybCxcbiAgICAgIHJlcHV0YXRpb25zOiBbXSxcbiAgICAgIHNoYWRvdzogc2hhZG93LFxuICAgIH07XG5cbiAgICAvKioqKioqKioqKi9cbiAgICAvKiB1cGRhdGUgKi9cbiAgICAvKioqKioqKioqKi9cblxuICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgIGF3YWl0IGdldFJlcHV0YXRpb24oKTtcbiAgICAgIGlmIChtb2RlbC5yZXB1dGF0aW9uICE9PSBudWxsKSB7XG4gICAgICAgIG1vZGVsLmVsZW1lbnQuaGlkZGVuID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gZ2V0UmVwdXRhdGlvbigpIHtcbiAgICAgIGNvbnN0IHBvc3REYXRhID0ge1xuICAgICAgICByZXB1dGF0aW9uX3R5cGU6IG1vZGVsLnJlcHV0YXRpb25UeXBlLFxuICAgICAgICBpZDogbW9kZWwuaWQsXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVxID0gYnVpbGRSZXEocG9zdERhdGEsIFwicG9zdFwiKTtcbiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChtb2RlbC5yZXB1dGF0aW9uVXJsLCByZXEpO1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3AuanNvbigpO1xuICAgICAgbW9kZWwucmVwdXRhdGlvbiA9IGRhdGEucmVwdXRhdGlvbjtcbiAgICAgIG1vZGVsLnJlcHV0YXRpb25zID0gZGF0YS5yZXB1dGF0aW9ucy5tYXAocmVwdXRhdGlvbiA9PiAoe1xuICAgICAgICBuYW1lOiByZXB1dGF0aW9uLmZ1bGxfbmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHJlcHV0YXRpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIHJlcHV0YXRpb246IHJlcHV0YXRpb24ucmVwdXRhdGlvbixcbiAgICAgIH0pKTtcbiAgICAgIGljb25WaWV3KCk7XG4gICAgICBsaXN0VmlldygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvZ2dsZVJlcHV0YXRpb25MaXN0KCkge1xuICAgICAgbW9kZWwuZWxlbWVudC5vcGVuID0gIW1vZGVsLmVsZW1lbnQub3BlbjtcbiAgICAgIGljb25WaWV3KCk7XG4gICAgICBsaXN0VmlldygpO1xuICAgIH1cblxuICAgIC8qKioqKioqKi9cbiAgICAvKiB2aWV3ICovXG4gICAgLyoqKioqKioqL1xuXG4gICAgZnVuY3Rpb24gdmlldygpIHtcbiAgICAgIHNoYWRvdy5hcHBlbmRDaGlsZChzdHlsZVZpZXcoKSk7XG5cbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBjb250YWluZXIuaWQgPSBcImNvbnRhaW5lclwiO1xuICAgICAgc2hhZG93LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG5cbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uVmlldygpKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0VmlldygpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpY29uVmlldygpIHtcbiAgICAgIGxldCBpY29uID0gc2hhZG93LmdldEVsZW1lbnRCeUlkKFwiaWNvblwiKTtcblxuICAgICAgaWYgKCFpY29uKSB7XG4gICAgICAgIGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpY29uLmlkID0gXCJpY29uXCI7XG4gICAgICAgIGljb24udGl0bGUgPSBcIlJlcHV0YXRpb25cIjtcbiAgICAgICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdG9nZ2xlUmVwdXRhdGlvbkxpc3QoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgc3RhciA9IGNyZWF0ZVN2ZyhcInN0YXJcIiwgZmFsc2UpO1xuICAgICAgICBzdGFyLmlkID0gXCJpY29uX19pY29uXCI7XG4gICAgICAgIGljb24uYXBwZW5kQ2hpbGQoc3Rhcik7XG5cbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuLmlkID0gXCJpY29uX19yZXB1dGF0aW9uXCI7XG4gICAgICAgIGlmIChtb2RlbC5yZXB1dGF0aW9uICE9PSBudWxsICYmIG1vZGVsLnJlcHV0YXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHNwYW4udGV4dENvbnRlbnQgPSBtb2RlbC5yZXB1dGF0aW9uLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWNvbi5hcHBlbmRDaGlsZChzcGFuKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5Py5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKG1vZGVsLmVsZW1lbnQub3Blbikge1xuICAgICAgICAgICAgdG9nZ2xlUmVwdXRhdGlvbkxpc3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1vZGVsLnJlcHV0YXRpb24gIT09IG51bGwgJiYgbW9kZWwucmVwdXRhdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2hhZG93LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgXCJpY29uX19yZXB1dGF0aW9uXCIsXG4gICAgICAgICAgKS50ZXh0Q29udGVudCA9IG1vZGVsLnJlcHV0YXRpb24udG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaWNvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0VmlldygpIHtcbiAgICAgIGxldCBsaXN0ID0gc2hhZG93LmdldEVsZW1lbnRCeUlkKFwibGlzdFwiKTtcbiAgICAgIGlmICghbGlzdCkge1xuICAgICAgICBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbGlzdC5pZCA9IFwibGlzdFwiO1xuICAgICAgICBsaXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNsZWFyKGxpc3QpO1xuXG4gICAgICBoZWFkZXJWaWV3KGxpc3QpO1xuXG4gICAgICBtb2RlbC5yZXB1dGF0aW9ucy5mb3JFYWNoKHJlcHV0YXRpb24gPT4ge1xuICAgICAgICByZXB1dGF0aW9uVmlldyhsaXN0LCByZXB1dGF0aW9uKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZWFkZXJWaWV3KGxpc3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG5hbWUuY2xhc3NMaXN0LmFkZChcImxpc3RfX2hlYWRlclwiKTtcbiAgICAgIG5hbWUudGV4dENvbnRlbnQgPSBcIk5hbWVcIjtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQobmFtZSk7XG5cbiAgICAgIGNvbnN0IHJlcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICByZXAuY2xhc3NMaXN0LmFkZChcImxpc3RfX2hlYWRlclwiKTtcbiAgICAgIHJlcC50ZXh0Q29udGVudCA9IFwiUmVwdXRhdGlvblwiO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChyZXApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlcHV0YXRpb25WaWV3KGxpc3Q6IEhUTUxFbGVtZW50LCByZXB1dGF0aW9uOiBSZXB1dGF0aW9uKSB7XG4gICAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG5hbWUuY2xhc3NMaXN0LmFkZChcImxpc3RfX25hbWVcIik7XG4gICAgICBuYW1lLnRleHRDb250ZW50ID0gYCR7cmVwdXRhdGlvbi5uYW1lfWA7XG4gICAgICBuYW1lLnRpdGxlID0gcmVwdXRhdGlvbi5kZXNjcmlwdGlvbjtcbiAgICAgIGxpc3QuYXBwZW5kQ2hpbGQobmFtZSk7XG5cbiAgICAgIGNvbnN0IHJlcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICByZXAuY2xhc3NMaXN0LmFkZChcImxpc3RfX3JlcHV0YXRpb25cIik7XG4gICAgICByZXAudGV4dENvbnRlbnQgPSAoXG4gICAgICAgIE1hdGgucm91bmQocmVwdXRhdGlvbi5yZXB1dGF0aW9uICogMTAwKSAvIDEwMFxuICAgICAgKS50b1N0cmluZygpO1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChyZXApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0eWxlVmlldygpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwiaHJlZlwiLFxuICAgICAgICB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgK1xuICAgICAgICAgIFwiLy9cIiArXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3QgK1xuICAgICAgICAgIFwiL3N0YXRpYy9yZXB1dGF0aW9uL2Nzcy90ZWFjaGVyLWhlYWRlci5taW4uY3NzXCIsXG4gICAgICApO1xuICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKFwicmVsXCIsIFwic3R5bGVzaGVldFwiKTtcbiAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG1vZGVsLm5vbmNlKTtcbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG5cbiAgICAvKioqKioqKiovXG4gICAgLyogaW5pdCAqL1xuICAgIC8qKioqKioqKi9cblxuICAgIHZpZXcoKTtcbiAgICBhd2FpdCB1cGRhdGUoKTtcbiAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmltcG9ydCB7IFRlYWNoZXJSZXB1dGF0aW9uSGVhZGVyIH0gZnJvbSBcIi4vX2hlYWRlci90ZWFjaGVyLmpzXCI7XG5cbmlmICghY3VzdG9tRWxlbWVudHMuZ2V0KFwidGVhY2hlci1yZXB1dGF0aW9uLWhlYWRlclwiKSkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXCJ0ZWFjaGVyLXJlcHV0YXRpb24taGVhZGVyXCIsIFRlYWNoZXJSZXB1dGF0aW9uSGVhZGVyKTtcbn1cbiJdLCJuYW1lcyI6WyJnZXRDc3JmVG9rZW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlOYW1lIiwiZ2V0QXR0cmlidXRlIiwiYnVpbGRSZXEiLCJkYXRhIiwibWV0aG9kIiwidG9Mb3dlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIkVycm9yIiwiY2xlYXIiLCJub2RlIiwiaGFzQ2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiY3JlYXRlU3ZnIiwibmFtZSIsInVzZVNwcml0ZSIsInN2ZyIsImNyZWF0ZUVsZW1lbnROUyIsInVzZSIsInNldEF0dHJpYnV0ZU5TIiwid2luZG93IiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJhcHBlbmQiLCJUZWFjaGVyUmVwdXRhdGlvbkhlYWRlciIsInVybCIsInR5cGUiLCJpZCIsIm5vbmNlIiwiaGFzQXR0cmlidXRlIiwidmFsIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic2hhZG93IiwiYXR0YWNoU2hhZG93IiwibW9kZSIsImhpZGRlbiIsImluaXQiLCJtb2RlbCIsInBhcnNlSW50IiwicmVwdXRhdGlvbklkIiwiZWxlbWVudCIsInJlcHV0YXRpb24iLCJyZXB1dGF0aW9uVHlwZSIsInJlcHV0YXRpb25VcmwiLCJyZXB1dGF0aW9ucyIsInVwZGF0ZSIsImdldFJlcHV0YXRpb24iLCJwb3N0RGF0YSIsInJlcHV0YXRpb25fdHlwZSIsInJlcSIsInJlc3AiLCJmZXRjaCIsImpzb24iLCJtYXAiLCJmdWxsX25hbWUiLCJkZXNjcmlwdGlvbiIsImljb25WaWV3IiwibGlzdFZpZXciLCJ0b2dnbGVSZXB1dGF0aW9uTGlzdCIsIm9wZW4iLCJ2aWV3IiwiYXBwZW5kQ2hpbGQiLCJzdHlsZVZpZXciLCJjb250YWluZXIiLCJjcmVhdGVFbGVtZW50IiwiaWNvbiIsImdldEVsZW1lbnRCeUlkIiwidGl0bGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJzdGFyIiwic3BhbiIsInVuZGVmaW5lZCIsInRleHRDb250ZW50IiwidG9TdHJpbmciLCJsaXN0IiwiaGVhZGVyVmlldyIsImZvckVhY2giLCJyZXB1dGF0aW9uVmlldyIsImNsYXNzTGlzdCIsImFkZCIsInJlcCIsIk1hdGgiLCJyb3VuZCIsInN0eWxlIiwiSFRNTEVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImdldCIsImRlZmluZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFPLFNBQVNBLFlBQVQsR0FBd0I7U0FDdEJDLFFBQVEsQ0FDWkMsaUJBREksQ0FDYyxxQkFEZCxFQUNxQyxDQURyQyxFQUVKQyxZQUZJLENBRVMsT0FGVCxDQUFQOztBQUtGLEFBQU8sU0FBU0MsUUFBVCxDQUFrQkMsSUFBbEIsRUFBd0JDLE1BQXhCLEVBQWdDO01BQ2pDQSxNQUFNLENBQUNDLFdBQVAsT0FBeUIsS0FBN0IsRUFBb0M7V0FDM0I7TUFDTEQsTUFBTSxFQUFFQSxNQUFNLENBQUNFLFdBQVAsRUFESDtNQUVMQyxPQUFPLEVBQUU7d0JBQ1Msa0JBRFQ7dUJBRVFULFlBQVk7O0tBSi9CO0dBREYsTUFRTyxJQUFJTSxNQUFNLENBQUNDLFdBQVAsT0FBeUIsTUFBN0IsRUFBcUM7UUFDcENHLElBQUksR0FBR0wsSUFBSSxHQUFHTSxJQUFJLENBQUNDLFNBQUwsQ0FBZVAsSUFBZixDQUFILEdBQTBCLEVBQTNDO1dBQ087TUFDTEMsTUFBTSxFQUFFQSxNQUFNLENBQUNFLFdBQVAsRUFESDtNQUVMRSxJQUFJLEVBQUVBLElBRkQ7TUFHTEQsT0FBTyxFQUFFO3dCQUNTLGtCQURUO3VCQUVRVCxZQUFZOztL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"}
>>>>>>> development
